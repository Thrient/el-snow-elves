import{S as T,ao as _,V as E,L as A,a$ as f,m as h,y as v,c0 as F,Y as x}from"./index-D4k4FYDa.js";const U="update:modelValue",b="change",k="input";function w(l,{disabled:n,beforeFocus:e,afterFocus:r,beforeBlur:c,afterBlur:i}={}){const m=T(),{emit:o}=m,a=_(),u=E(!1),d=t=>{const s=h(e)?e(t):!1;v(n)||u.value||s||(u.value=!0,o("focus",t),r?.())},C=t=>{var s;const p=h(c)?c(t):!1;v(n)||t.relatedTarget&&((s=a.value)!=null&&s.contains(t.relatedTarget))||p||(u.value=!1,o("blur",t),i?.())},g=t=>{var s,p;v(n)||F(t.target)||(s=a.value)!=null&&s.contains(document.activeElement)&&a.value!==document.activeElement||(p=l.value)==null||p.focus()};return A([a,()=>v(n)],([t,s])=>{t&&(s?t.removeAttribute("tabindex"):t.setAttribute("tabindex","-1"))}),f(a,"focus",d,!0),f(a,"blur",C,!0),f(a,"click",g,!0),{isFocused:u,wrapperRef:a,handleFocus:d,handleBlur:C}}const N=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l);function D({afterComposition:l,emit:n}){const e=E(!1),r=o=>{n?.("compositionstart",o),e.value=!0},c=o=>{var a;n?.("compositionupdate",o);const u=(a=o.target)==null?void 0:a.value,d=u[u.length-1]||"";e.value=!N(d)},i=o=>{n?.("compositionend",o),e.value&&(e.value=!1,x(()=>l(o)))};return{isComposing:e,handleComposition:o=>{o.type==="compositionend"?i(o):c(o)},handleCompositionStart:r,handleCompositionUpdate:c,handleCompositionEnd:i}}export{b as C,k as I,U,D as a,w as u};
