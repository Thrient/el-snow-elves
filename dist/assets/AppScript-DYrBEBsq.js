import{u as en,b as Nt,r as fe,d as kt,e as ke,m as wt,f as tn,c as Ne,g as nn,w as E,h as S,i as O,j as st,k as $e,F as ut,l as Mt,E as Ft,a as $,o as Z,n as on,p as rn,t as yt,q as dt,s as an,v as ln,x as sn,y as un}from"./index-BThFWz2V.js";import{E as dn}from"./el-scrollbar-cwunQwFk.js";import{E as Rt,a as Lt}from"./el-select-TaQLxnWU.js";import{E as cn,a as fn}from"./el-table-column-DdIxauEV.js";import"./el-checkbox-Z_Y439A-.js";import{E as pn}from"./el-text-CBiHUgrX.js";import"./index-DO5u6Usa.js";function hn(){const o=en(),e=Nt(),t=fe(!1),n=fe(!1),i=fe([]),r=async()=>{const a=await window.pywebview?.api.emit("API:TASK:CONFIG:LIST");i.value=["默认配置"].concat(a||[])},l=async a=>{const f=await window.pywebview?.api.emit("API:TASK:CONFIG:lOAD",a);await e.loadTaskConfig(f)},s=async a=>{window.pywebview?.api.emit("API:TASK:CONFIG:SAVE",a,e.getTaskConfig),await r(),await o.updateCurrentConfiguration()},u=async a=>{window.pywebview?.api.emit("API:TASK:CONFIG:DELETE",a),await r(),await o.updateCurrentConfiguration()};return kt(async()=>{await r()}),{saveDialogVisible:t,deleteDialogVisible:n,configurationList:i,sysConfigStore:o,getTaskConfiguration:l,saveConfig:s,deleteConfig:u}}function gn(o,e){const t=fe("");return{value:t,handleConfirm:()=>{o.value=!1,e("confirm",t.value)}}}const Et=ke({__name:"SelectDialog",props:wt({options:{type:Array,default:[]},title:{type:String,default:"Dialog"},placeholder:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:wt(["confirm"],["update:modelValue"]),setup(o,{emit:e}){const t=tn(o,"modelValue"),n=e,{value:i,handleConfirm:r}=gn(t,n);return(l,s)=>{const u=Lt,a=Rt,f=Ft,c=nn;return Z(),Ne(c,{style:{width:"300px"},title:o.title,modelValue:t.value,"onUpdate:modelValue":s[2]||(s[2]=p=>t.value=p),"align-center":""},{footer:E(()=>[S(f,{onClick:s[1]||(s[1]=p=>t.value=!1)},{default:E(()=>s[3]||(s[3]=[$("取消")])),_:1,__:[3]}),S(f,{type:"primary",onClick:O(r)},{default:E(()=>s[4]||(s[4]=[$("确认")])),_:1,__:[4]},8,["onClick"])]),default:E(()=>[S(a,{modelValue:O(i),"onUpdate:modelValue":s[0]||(s[0]=p=>st(i)?i.value=p:null),filterable:"","allow-create":"","reserve-keyword":!1,"default-first-option":"",placeholder:o.placeholder},{default:E(()=>[(Z(!0),$e(ut,null,Mt(o.options,p=>(Z(),Ne(u,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["title","modelValue"])}}}),mn=ke({__name:"ConfigSetting",setup(o){const{saveDialogVisible:e,deleteDialogVisible:t,configurationList:n,sysConfigStore:i,getTaskConfiguration:r,saveConfig:l,deleteConfig:s}=hn();return(u,a)=>{const f=Ft,c=Lt,p=Rt;return Z(),$e(ut,null,[S(f,{type:"primary"},{default:E(()=>a[5]||(a[5]=[$("导入配置")])),_:1,__:[5]}),S(f,{onClick:a[0]||(a[0]=m=>e.value=!0),type:"success"},{default:E(()=>a[6]||(a[6]=[$("保存配置")])),_:1,__:[6]}),S(p,{onChange:O(r),modelValue:O(i).currentConfiguration,"onUpdate:modelValue":a[1]||(a[1]=m=>O(i).currentConfiguration=m),style:{width:"180px"}},{default:E(()=>[(Z(!0),$e(ut,null,Mt(O(n),(m,v)=>(Z(),Ne(c,{key:v,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"]),S(f,{onClick:a[2]||(a[2]=m=>t.value=!0),type:"danger"},{default:E(()=>a[7]||(a[7]=[$("删除配置")])),_:1,__:[7]}),S(f,{type:"warning"},{default:E(()=>a[8]||(a[8]=[$("导出配置")])),_:1,__:[8]}),S(Et,{modelValue:O(e),"onUpdate:modelValue":a[3]||(a[3]=m=>st(e)?e.value=m:null),options:O(n),title:"保存配置文件",onConfirm:O(l)},null,8,["modelValue","options","onConfirm"]),S(Et,{modelValue:O(t),"onUpdate:modelValue":a[4]||(a[4]=m=>st(t)?t.value=m:null),options:O(n),title:"删除配置文件",onConfirm:O(s)},null,8,["modelValue","options","onConfirm"])],64)}}}),vn=ke({__name:"AppHeader",setup(o){return(e,t)=>(Z(),Ne(mn))}});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dt(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),t.push.apply(t,n)}return t}function U(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(t),!0).forEach(function(n){bn(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Dt(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Ve(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ve=function(e){return typeof e}:Ve=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(o)}function bn(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function J(){return J=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},J.apply(this,arguments)}function _n(o,e){if(o==null)return{};var t={},n=Object.keys(o),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=o[i]);return t}function wn(o,e){if(o==null)return{};var t=_n(o,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var yn="1.15.6";function Q(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var ee=Q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Me=Q(/Edge/i),St=Q(/firefox/i),Ie=Q(/safari/i)&&!Q(/chrome/i)&&!Q(/android/i),gt=Q(/iP(ad|od|hone)/i),Xt=Q(/chrome/i)&&Q(/android/i),Yt={capture:!1,passive:!1};function w(o,e,t){o.addEventListener(e,t,!ee&&Yt)}function _(o,e,t){o.removeEventListener(e,t,!ee&&Yt)}function je(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Bt(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function W(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&je(o,e):je(o,e))||n&&o===t)return o;if(o===t)break}while(o=Bt(o))}return null}var Ct=/\s+/g;function X(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(Ct," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(Ct," ")}}function g(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function ve(o,e){var t="";if(typeof o=="string")t=o;else do{var n=g(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Vt(o,e,t){if(o){var n=o.getElementsByTagName(e),i=0,r=n.length;if(t)for(;i<r;i++)t(n[i],i);return n}return[]}function j(){var o=document.scrollingElement;return o||document.documentElement}function x(o,e,t,n,i){if(!(!o.getBoundingClientRect&&o!==window)){var r,l,s,u,a,f,c;if(o!==window&&o.parentNode&&o!==j()?(r=o.getBoundingClientRect(),l=r.top,s=r.left,u=r.bottom,a=r.right,f=r.height,c=r.width):(l=0,s=0,u=window.innerHeight,a=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||t)&&o!==window&&(i=i||o.parentNode,!ee))do if(i&&i.getBoundingClientRect&&(g(i,"transform")!=="none"||t&&g(i,"position")!=="static")){var p=i.getBoundingClientRect();l-=p.top+parseInt(g(i,"border-top-width")),s-=p.left+parseInt(g(i,"border-left-width")),u=l+r.height,a=s+r.width;break}while(i=i.parentNode);if(n&&o!==window){var m=ve(i||o),v=m&&m.a,y=m&&m.d;m&&(l/=y,s/=v,c/=v,f/=y,u=l+f,a=s+c)}return{top:l,left:s,bottom:u,right:a,width:c,height:f}}}function Tt(o,e,t){for(var n=re(o,!0),i=x(o)[e];n;){var r=x(n)[t],l=void 0;if(l=i>=r,!l)return n;if(n===j())break;n=re(n,!1)}return!1}function be(o,e,t,n){for(var i=0,r=0,l=o.children;r<l.length;){if(l[r].style.display!=="none"&&l[r]!==h.ghost&&(n||l[r]!==h.dragged)&&W(l[r],t.draggable,o,!1)){if(i===e)return l[r];i++}r++}return null}function mt(o,e){for(var t=o.lastElementChild;t&&(t===h.ghost||g(t,"display")==="none"||e&&!je(t,e));)t=t.previousElementSibling;return t||null}function B(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==h.clone&&(!e||je(o,e))&&t++;return t}function It(o){var e=0,t=0,n=j();if(o)do{var i=ve(o),r=i.a,l=i.d;e+=o.scrollLeft*r,t+=o.scrollTop*l}while(o!==n&&(o=o.parentNode));return[e,t]}function En(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function re(o,e){if(!o||!o.getBoundingClientRect)return j();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=g(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return j();if(n||e)return t;n=!0}}while(t=t.parentNode);return j()}function Dn(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function Je(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var Oe;function Ht(o,e){return function(){if(!Oe){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),Oe=setTimeout(function(){Oe=void 0},e)}}}function Sn(){clearTimeout(Oe),Oe=void 0}function Gt(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function Wt(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function zt(o,e,t){var n={};return Array.from(o.children).forEach(function(i){var r,l,s,u;if(!(!W(i,e.draggable,o,!1)||i.animated||i===t)){var a=x(i);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,a.left),n.top=Math.min((l=n.top)!==null&&l!==void 0?l:1/0,a.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,a.right),n.bottom=Math.max((u=n.bottom)!==null&&u!==void 0?u:-1/0,a.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var F="Sortable"+new Date().getTime();function Cn(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(g(i,"display")==="none"||i===h.ghost)){o.push({target:i,rect:x(i)});var r=U({},o[o.length-1].rect);if(i.thisAnimationDuration){var l=ve(i,!0);l&&(r.top-=l.f,r.left-=l.e)}i.fromRect=r}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(En(o,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,l=0;o.forEach(function(s){var u=0,a=s.target,f=a.fromRect,c=x(a),p=a.prevFromRect,m=a.prevToRect,v=s.rect,y=ve(a,!0);y&&(c.top-=y.f,c.left-=y.e),a.toRect=c,a.thisAnimationDuration&&Je(p,c)&&!Je(f,c)&&(v.top-c.top)/(v.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(u=In(v,p,m,i.options)),Je(c,f)||(a.prevFromRect=f,a.prevToRect=c,u||(u=i.options.animation),i.animate(a,v,c,u)),u&&(r=!0,l=Math.max(l,u),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},u),a.thisAnimationDuration=u)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},l):typeof n=="function"&&n(),o=[]},animate:function(n,i,r,l){if(l){g(n,"transition",""),g(n,"transform","");var s=ve(this.el),u=s&&s.a,a=s&&s.d,f=(i.left-r.left)/(u||1),c=(i.top-r.top)/(a||1);n.animatingX=!!f,n.animatingY=!!c,g(n,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=Tn(n),g(n,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),g(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){g(n,"transition",""),g(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},l)}}}}function Tn(o){return o.offsetWidth}function In(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var pe=[],et={initializeByDefault:!0},Fe={mount:function(e){for(var t in et)et.hasOwnProperty(t)&&!(t in e)&&(e[t]=et[t]);pe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),pe.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";pe.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][r]&&t[l.pluginName][r](U({sortable:t},n)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](U({sortable:t},n)))})},initializePlugins:function(e,t,n,i){pe.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var a=new s(e,t,e.options);a.sortable=e,a.options=e.options,e[u]=a,J(n,a.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var l=this.modifyOption(e,r,e.options[r]);typeof l<"u"&&(e.options[r]=l)}},getEventProperties:function(e,t){var n={};return pe.forEach(function(i){typeof i.eventProperties=="function"&&J(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return pe.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],n))}),i}};function On(o){var e=o.sortable,t=o.rootEl,n=o.name,i=o.targetEl,r=o.cloneEl,l=o.toEl,s=o.fromEl,u=o.oldIndex,a=o.newIndex,f=o.oldDraggableIndex,c=o.newDraggableIndex,p=o.originalEvent,m=o.putSortable,v=o.extraEventProperties;if(e=e||t&&t[F],!!e){var y,V=e.options,q="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ee&&!Me?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=l||t,y.from=s||t,y.item=i||t,y.clone=r,y.oldIndex=u,y.newIndex=a,y.oldDraggableIndex=f,y.newDraggableIndex=c,y.originalEvent=p,y.pullMode=m?m.lastPutMode:void 0;var N=U(U({},v),Fe.getEventProperties(n,e));for(var H in N)y[H]=N[H];t&&t.dispatchEvent(y),V[q]&&V[q].call(e,y)}}var xn=["evt"],M=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=wn(n,xn);Fe.pluginEvent.bind(h)(e,t,U({dragEl:d,parentEl:T,ghostEl:b,rootEl:D,nextEl:ce,lastDownEl:He,cloneEl:C,cloneHidden:ie,dragStarted:Se,putSortable:A,activeSortable:h.active,originalEvent:i,oldIndex:me,oldDraggableIndex:xe,newIndex:Y,newDraggableIndex:oe,hideGhostForTarget:qt,unhideGhostForTarget:Kt,cloneNowHidden:function(){ie=!0},cloneNowShown:function(){ie=!1},dispatchSortableEvent:function(s){k({sortable:t,name:s,originalEvent:i})}},r))};function k(o){On(U({putSortable:A,cloneEl:C,targetEl:d,rootEl:D,oldIndex:me,oldDraggableIndex:xe,newIndex:Y,newDraggableIndex:oe},o))}var d,T,b,D,ce,He,C,ie,me,Y,xe,oe,Le,A,ge=!1,Ue=!1,qe=[],ue,G,tt,nt,Ot,xt,Se,he,Ae,Pe=!1,Xe=!1,Ge,P,ot=[],ct=!1,Ke=[],Qe=typeof document<"u",Ye=gt,At=Me||ee?"cssFloat":"float",An=Qe&&!Xt&&!gt&&"draggable"in document.createElement("div"),$t=function(){if(Qe){if(ee)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),jt=function(e,t){var n=g(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=be(e,0,t),l=be(e,1,t),s=r&&g(r),u=l&&g(l),a=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+x(r).width,f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+x(l).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||a>=i&&n[At]==="none"||l&&n[At]==="none"&&a+f>i)?"vertical":"horizontal"},Pn=function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,l=n?e.width:e.height,s=n?t.left:t.top,u=n?t.right:t.bottom,a=n?t.width:t.height;return i===s||r===u||i+l/2===s+a/2},Nn=function(e,t){var n;return qe.some(function(i){var r=i[F].options.emptyInsertThreshold;if(!(!r||mt(i))){var l=x(i),s=e>=l.left-r&&e<=l.right+r,u=t>=l.top-r&&t<=l.bottom+r;if(s&&u)return n=i}}),n},Ut=function(e){function t(r,l){return function(s,u,a,f){var c=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(r==null&&(l||c))return!0;if(r==null||r===!1)return!1;if(l&&r==="clone")return r;if(typeof r=="function")return t(r(s,u,a,f),l)(s,u,a,f);var p=(l?s:u).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var n={},i=e.group;(!i||Ve(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},qt=function(){!$t&&b&&g(b,"display","none")},Kt=function(){!$t&&b&&g(b,"display","")};Qe&&!Xt&&document.addEventListener("click",function(o){if(Ue)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),Ue=!1,!1},!0);var de=function(e){if(d){e=e.touches?e.touches[0]:e;var t=Nn(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[F]._onDragOver(n)}}},kn=function(e){d&&d.parentNode[F]._isOutsideThisEl(e.target)};function h(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=J({},e),o[F]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jt(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:h.supportPointer!==!1&&"PointerEvent"in window&&(!Ie||gt),emptyInsertThreshold:5};Fe.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Ut(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:An,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(o,"pointerdown",this._onTapStart):(w(o,"mousedown",this._onTapStart),w(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(o,"dragover",this),w(o,"dragenter",this)),qe.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),J(this,Cn())}h.prototype={constructor:h,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(he=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,a=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,f=i.filter;if(Vn(n),!d&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||i.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&Ie&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=W(u,i.draggable,n,!1),!(u&&u.animated)&&He!==u)){if(me=B(u),xe=B(u,i.draggable),typeof f=="function"){if(f.call(this,e,u,this)){k({sortable:t,rootEl:a,name:"filter",targetEl:u,toEl:n,fromEl:n}),M("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=W(a,c.trim(),n,!1),c)return k({sortable:t,rootEl:c,name:"filter",targetEl:u,fromEl:n,toEl:n}),M("filter",t,{evt:e}),!0}),f)){r&&e.preventDefault();return}i.handle&&!W(a,i.handle,n,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,t,n){var i=this,r=i.el,l=i.options,s=r.ownerDocument,u;if(n&&!d&&n.parentNode===r){var a=x(n);if(D=r,d=n,T=d.parentNode,ce=d.nextSibling,He=n,Le=l.group,h.dragged=d,ue={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Ot=ue.clientX-a.left,xt=ue.clientY-a.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",u=function(){if(M("delayEnded",i,{evt:e}),h.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!St&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(e,t),k({sortable:i,name:"choose",originalEvent:e}),X(d,l.chosenClass,!0)},l.ignore.split(",").forEach(function(f){Vt(d,f.trim(),it)}),w(s,"dragover",de),w(s,"mousemove",de),w(s,"touchmove",de),l.supportPointer?(w(s,"pointerup",i._onDrop),!this.nativeDraggable&&w(s,"pointercancel",i._onDrop)):(w(s,"mouseup",i._onDrop),w(s,"touchend",i._onDrop),w(s,"touchcancel",i._onDrop)),St&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),M("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Me||ee))){if(h.eventCanceled){this._onDrop();return}l.supportPointer?(w(s,"pointerup",i._disableDelayedDrag),w(s,"pointercancel",i._disableDelayedDrag)):(w(s,"mouseup",i._disableDelayedDrag),w(s,"touchend",i._disableDelayedDrag),w(s,"touchcancel",i._disableDelayedDrag)),w(s,"mousemove",i._delayedDragTouchMoveHandler),w(s,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&w(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&it(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"pointerup",this._disableDelayedDrag),_(e,"pointercancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):t?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(d,"dragend",this),w(D,"dragstart",this._onDragStart));try{document.selection?We(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ge=!1,D&&d){M("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",kn);var n=this.options;!e&&X(d,n.dragClass,!1),X(d,n.ghostClass,!0),h.active=this,e&&this._appendGhost(),k({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(G){this._lastX=G.clientX,this._lastY=G.clientY,qt();for(var e=document.elementFromPoint(G.clientX,G.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(G.clientX,G.clientY),e!==t);)t=e;if(d.parentNode[F]._isOutsideThisEl(e),t)do{if(t[F]){var n=void 0;if(n=t[F]._onDragOver({clientX:G.clientX,clientY:G.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Bt(t));Kt()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,l=b&&ve(b,!0),s=b&&l&&l.a,u=b&&l&&l.d,a=Ye&&P&&It(P),f=(r.clientX-ue.clientX+i.x)/(s||1)+(a?a[0]-ot[0]:0)/(s||1),c=(r.clientY-ue.clientY+i.y)/(u||1)+(a?a[1]-ot[1]:0)/(u||1);if(!h.active&&!ge){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(b){l?(l.e+=f-(tt||0),l.f+=c-(nt||0)):l={a:1,b:0,c:0,d:1,e:f,f:c};var p="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");g(b,"webkitTransform",p),g(b,"mozTransform",p),g(b,"msTransform",p),g(b,"transform",p),tt=f,nt=c,G=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!b){var e=this.options.fallbackOnBody?document.body:D,t=x(d,!0,Ye,!0,e),n=this.options;if(Ye){for(P=e;g(P,"position")==="static"&&g(P,"transform")==="none"&&P!==document;)P=P.parentNode;P!==document.body&&P!==document.documentElement?(P===document&&(P=j()),t.top+=P.scrollTop,t.left+=P.scrollLeft):P=j(),ot=It(P)}b=d.cloneNode(!0),X(b,n.ghostClass,!1),X(b,n.fallbackClass,!0),X(b,n.dragClass,!0),g(b,"transition",""),g(b,"transform",""),g(b,"box-sizing","border-box"),g(b,"margin",0),g(b,"top",t.top),g(b,"left",t.left),g(b,"width",t.width),g(b,"height",t.height),g(b,"opacity","0.8"),g(b,"position",Ye?"absolute":"fixed"),g(b,"zIndex","100000"),g(b,"pointerEvents","none"),h.ghost=b,e.appendChild(b),g(b,"transform-origin",Ot/parseInt(b.style.width)*100+"% "+xt/parseInt(b.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;if(M("dragStart",this,{evt:e}),h.eventCanceled){this._onDrop();return}M("setupClone",this),h.eventCanceled||(C=Wt(d),C.removeAttribute("id"),C.draggable=!1,C.style["will-change"]="",this._hideClone(),X(C,this.options.chosenClass,!1),h.clone=C),n.cloneId=We(function(){M("clone",n),!h.eventCanceled&&(n.options.removeCloneOnHide||D.insertBefore(C,d),n._hideClone(),k({sortable:n,name:"clone"}))}),!t&&X(d,r.dragClass,!0),t?(Ue=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,d)),w(document,"drop",n),g(d,"transform","translateZ(0)")),ge=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),w(document,"selectstart",n),Se=!0,window.getSelection().removeAllRanges(),Ie&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,r,l,s=this.options,u=s.group,a=h.active,f=Le===u,c=s.sort,p=A||a,m,v=this,y=!1;if(ct)return;function V(De,Qt){M(De,v,U({evt:e,isOwner:f,axis:m?"vertical":"horizontal",revert:l,dragRect:i,targetRect:r,canSort:c,fromSortable:p,target:n,completed:N,onMove:function(_t,Jt){return Be(D,t,d,i,_t,x(_t),e,Jt)},changed:H},Qt))}function q(){V("dragOverAnimationCapture"),v.captureAnimationState(),v!==p&&p.captureAnimationState()}function N(De){return V("dragOverCompleted",{insertion:De}),De&&(f?a._hideClone():a._showClone(v),v!==p&&(X(d,A?A.options.ghostClass:a.options.ghostClass,!1),X(d,s.ghostClass,!0)),A!==v&&v!==h.active?A=v:v===h.active&&A&&(A=null),p===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){V("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(he=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[F]._isOutsideThisEl(e.target),!De&&de(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function H(){Y=B(d),oe=B(d,s.draggable),k({sortable:v,name:"change",toEl:t,newIndex:Y,newDraggableIndex:oe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=W(n,s.draggable,t,!0),V("dragOver"),h.eventCanceled)return y;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return N(!1);if(Ue=!1,a&&!s.disabled&&(f?c||(l=T!==D):A===this||(this.lastPutMode=Le.checkPull(this,a,d,e))&&u.checkPut(this,a,d,e))){if(m=this._getDirection(e,n)==="vertical",i=x(d),V("dragOverValid"),h.eventCanceled)return y;if(l)return T=D,q(),this._hideClone(),V("revert"),h.eventCanceled||(ce?D.insertBefore(d,ce):D.appendChild(d)),N(!0);var R=mt(t,s.draggable);if(!R||Ln(e,m,this)&&!R.animated){if(R===d)return N(!1);if(R&&t===e.target&&(n=R),n&&(r=x(n)),Be(D,t,d,i,n,r,e,!!n)!==!1)return q(),R&&R.nextSibling?t.insertBefore(d,R.nextSibling):t.appendChild(d),T=t,H(),N(!0)}else if(R&&Rn(e,m,this)){var ae=be(t,0,s,!0);if(ae===d)return N(!1);if(n=ae,r=x(n),Be(D,t,d,i,n,r,e,!1)!==!1)return q(),t.insertBefore(d,ae),T=t,H(),N(!0)}else if(n.parentNode===t){r=x(n);var z=0,le,_e=d.parentNode!==t,L=!Pn(d.animated&&d.toRect||i,n.animated&&n.toRect||r,m),we=m?"top":"left",te=Tt(n,"top","top")||Tt(d,"top","top"),ye=te?te.scrollTop:void 0;he!==n&&(le=r[we],Pe=!1,Xe=!L&&s.invertSwap||_e),z=Xn(e,n,r,m,L?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Xe,he===n);var K;if(z!==0){var se=B(d);do se-=z,K=T.children[se];while(K&&(g(K,"display")==="none"||K===b))}if(z===0||K===n)return N(!1);he=n,Ae=z;var Ee=n.nextElementSibling,ne=!1;ne=z===1;var Re=Be(D,t,d,i,n,r,e,ne);if(Re!==!1)return(Re===1||Re===-1)&&(ne=Re===1),ct=!0,setTimeout(Fn,30),q(),ne&&!Ee?t.appendChild(d):n.parentNode.insertBefore(d,ne?Ee:n),te&&Gt(te,0,ye-te.scrollTop),T=d.parentNode,le!==void 0&&!Xe&&(Ge=Math.abs(le-x(n)[we])),H(),N(!0)}if(t.contains(d))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",de),_(document,"mousemove",de),_(document,"touchmove",de)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"pointercancel",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Y=B(d),oe=B(d,n.draggable),M("drop",this,{evt:e}),T=d&&d.parentNode,Y=B(d),oe=B(d,n.draggable),h.eventCanceled){this._nulling();return}ge=!1,Xe=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ft(this.cloneId),ft(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ie&&g(document.body,"user-select",""),g(d,"transform",""),e&&(Se&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(D===T||A&&A.lastPutMode!=="clone")&&C&&C.parentNode&&C.parentNode.removeChild(C),d&&(this.nativeDraggable&&_(d,"dragend",this),it(d),d.style["will-change"]="",Se&&!ge&&X(d,A?A.options.ghostClass:this.options.ghostClass,!1),X(d,this.options.chosenClass,!1),k({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),D!==T?(Y>=0&&(k({rootEl:T,name:"add",toEl:T,fromEl:D,originalEvent:e}),k({sortable:this,name:"remove",toEl:T,originalEvent:e}),k({rootEl:T,name:"sort",toEl:T,fromEl:D,originalEvent:e}),k({sortable:this,name:"sort",toEl:T,originalEvent:e})),A&&A.save()):Y!==me&&Y>=0&&(k({sortable:this,name:"update",toEl:T,originalEvent:e}),k({sortable:this,name:"sort",toEl:T,originalEvent:e})),h.active&&((Y==null||Y===-1)&&(Y=me,oe=xe),k({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),D=d=T=b=ce=C=He=ie=ue=G=Se=Y=oe=me=xe=he=Ae=A=Le=h.dragged=h.ghost=h.clone=h.active=null,Ke.forEach(function(e){e.checked=!0}),Ke.length=tt=nt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),Mn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,r=n.length,l=this.options;i<r;i++)t=n[i],W(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||Bn(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(r,l){var s=i.children[l];W(s,this.options.draggable,i,!1)&&(n[r]=s)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return W(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Fe.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&Ut(n)},destroy:function(){M("destroy",this);var e=this.el;e[F]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ie){if(M("hideClone",this),h.eventCanceled)return;g(C,"display","none"),this.options.removeCloneOnHide&&C.parentNode&&C.parentNode.removeChild(C),ie=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ie){if(M("showClone",this),h.eventCanceled)return;d.parentNode==D&&!this.options.group.revertClone?D.insertBefore(C,d):ce?D.insertBefore(C,ce):D.appendChild(C),this.options.group.revertClone&&this.animate(d,C),g(C,"display",""),ie=!1}}};function Mn(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Be(o,e,t,n,i,r,l,s){var u,a=o[F],f=a.options.onMove,c;return window.CustomEvent&&!ee&&!Me?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=o,u.dragged=t,u.draggedRect=n,u.related=i||e,u.relatedRect=r||x(e),u.willInsertAfter=s,u.originalEvent=l,o.dispatchEvent(u),f&&(c=f.call(a,u,l)),c}function it(o){o.draggable=!1}function Fn(){ct=!1}function Rn(o,e,t){var n=x(be(t.el,0,t.options,!0)),i=zt(t.el,t.options,b),r=10;return e?o.clientX<i.left-r||o.clientY<n.top&&o.clientX<n.right:o.clientY<i.top-r||o.clientY<n.bottom&&o.clientX<n.left}function Ln(o,e,t){var n=x(mt(t.el,t.options.draggable)),i=zt(t.el,t.options,b),r=10;return e?o.clientX>i.right+r||o.clientY>n.bottom&&o.clientX>n.left:o.clientY>i.bottom+r||o.clientX>n.right&&o.clientY>n.top}function Xn(o,e,t,n,i,r,l,s){var u=n?o.clientY:o.clientX,a=n?t.height:t.width,f=n?t.top:t.left,c=n?t.bottom:t.right,p=!1;if(!l){if(s&&Ge<a*i){if(!Pe&&(Ae===1?u>f+a*r/2:u<c-a*r/2)&&(Pe=!0),Pe)p=!0;else if(Ae===1?u<f+Ge:u>c-Ge)return-Ae}else if(u>f+a*(1-i)/2&&u<c-a*(1-i)/2)return Yn(e)}return p=p||l,p&&(u<f+a*r/2||u>c-a*r/2)?u>f+a/2?1:-1:0}function Yn(o){return B(d)<B(o)?1:-1}function Bn(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Vn(o){Ke.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Ke.push(n)}}function We(o){return setTimeout(o,0)}function ft(o){return clearTimeout(o)}Qe&&w(document,"touchmove",function(o){(h.active||ge)&&o.cancelable&&o.preventDefault()});h.utils={on:w,off:_,css:g,find:Vt,is:function(e,t){return!!W(e,t,e,!1)},extend:Dn,throttle:Ht,closest:W,toggleClass:X,clone:Wt,index:B,nextTick:We,cancelNextTick:ft,detectDirection:jt,getChild:be,expando:F};h.get=function(o){return o[F]};h.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(h.utils=U(U({},h.utils),n.utils)),Fe.mount(n)})};h.create=function(o,e){return new h(o,e)};h.version=yn;var I=[],Ce,pt,ht=!1,rt,at,Ze,Te;function Hn(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):n.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),Pt(),ze(),Sn()},nulling:function(){Ze=pt=Ce=ht=Te=rt=at=null,I.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,r=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(r,l);if(Ze=t,n||this.options.forceAutoScrollFallback||Me||ee||Ie){lt(t,this.options,s,n);var u=re(s,!0);ht&&(!Te||r!==rt||l!==at)&&(Te&&Pt(),Te=setInterval(function(){var a=re(document.elementFromPoint(r,l),!0);a!==u&&(u=a,ze()),lt(t,i.options,a,n)},10),rt=r,at=l)}else{if(!this.options.bubbleScroll||re(s,!0)===j()){ze();return}lt(t,this.options,re(s,!1),!1)}}},J(o,{pluginName:"scroll",initializeByDefault:!0})}function ze(){I.forEach(function(o){clearInterval(o.pid)}),I=[]}function Pt(){clearInterval(Te)}var lt=Ht(function(o,e,t,n){if(e.scroll){var i=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,u=j(),a=!1,f;pt!==t&&(pt=t,ze(),Ce=e.scroll,f=e.scrollFn,Ce===!0&&(Ce=re(t,!0)));var c=0,p=Ce;do{var m=p,v=x(m),y=v.top,V=v.bottom,q=v.left,N=v.right,H=v.width,R=v.height,ae=void 0,z=void 0,le=m.scrollWidth,_e=m.scrollHeight,L=g(m),we=m.scrollLeft,te=m.scrollTop;m===u?(ae=H<le&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),z=R<_e&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(ae=H<le&&(L.overflowX==="auto"||L.overflowX==="scroll"),z=R<_e&&(L.overflowY==="auto"||L.overflowY==="scroll"));var ye=ae&&(Math.abs(N-i)<=l&&we+H<le)-(Math.abs(q-i)<=l&&!!we),K=z&&(Math.abs(V-r)<=l&&te+R<_e)-(Math.abs(y-r)<=l&&!!te);if(!I[c])for(var se=0;se<=c;se++)I[se]||(I[se]={});(I[c].vx!=ye||I[c].vy!=K||I[c].el!==m)&&(I[c].el=m,I[c].vx=ye,I[c].vy=K,clearInterval(I[c].pid),(ye!=0||K!=0)&&(a=!0,I[c].pid=setInterval((function(){n&&this.layer===0&&h.active._onTouchMove(Ze);var Ee=I[this.layer].vy?I[this.layer].vy*s:0,ne=I[this.layer].vx?I[this.layer].vx*s:0;typeof f=="function"&&f.call(h.dragged.parentNode[F],ne,Ee,o,Ze,I[this.layer].el)!=="continue"||Gt(I[this.layer].el,ne,Ee)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&p!==u&&(p=re(p,!1)));ht=a}},30),Zt=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,l=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var a=n||r;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(f.clientX,f.clientY);u(),a&&!a.el.contains(c)&&(l("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function vt(){}vt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=be(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Zt};J(vt,{pluginName:"revertOnSpill"});function bt(){}bt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Zt};J(bt,{pluginName:"removeOnSpill"});h.mount(new Hn);h.mount(bt,vt);function Gn(){const o=fe(),e=Nt(),t=fe(0),n=()=>{const a=document.querySelector(".executeListTable .el-table__body-wrapper tbody"),f=document.querySelector(".taskListTable .el-table__body-wrapper tbody");!a||!f||(h.create(a,{group:{name:"shared",pull:!0,put:!0},sort:!0,async onEnd(c){const{oldIndex:p,newIndex:m}=c,[v]=e.executeList.splice(p,1);await e.addExecuteList(v,m)},async onAdd(c){c.item.remove();const{oldIndex:p,newIndex:m}=c,v=i.value[p];await e.addExecuteList(v,m)}}),h.create(f,{group:{name:"shared",pull:"clone",put:!1},sort:!1}))},i=fe([{data:"课业任务",card:""},{data:"帮派任务",card:""},{data:"门客设宴",card:""},{data:"破阵设宴",card:""},{data:"单人论剑",card:"/script/sword-task-card"},{data:"侠缘喊话",card:"/script/chivalry-task-card"},{data:"每日兑换",card:"/script/daily-redemption-task-card"},{data:"江湖急送",card:""},{data:"日常副本",card:""},{data:"世界喊话",card:"/script/world-shouts-task-card"},{data:"每日一卦",card:""},{data:"茶馆说书",card:""},{data:"江湖行商",card:"/script/merchant-lake-task-card"},{data:"江湖英雄榜",card:"/script/hero-list-task-card"},{data:"采集任务",card:"/script/acquisition-task-card"},{data:"坐观万象",card:""},{data:"悬赏任务",card:""},{data:"多人论剑",card:""}]),r=async a=>{a.card!==""&&await rn.push(a.card)},l=async a=>{await e.addExecuteList(a,e.executeList.length)},s=async a=>{await e.removeExecuteList(a)},u=()=>{if(o.value){const a=o.value.clientHeight;t.value=a-10}};return kt(()=>{u(),n(),window.addEventListener("resize",u)}),on(()=>{window.removeEventListener("resize",u)}),{listRef:o,tableHeight:t,tableData:i,taskConfigStore:e,add:l,remove:s,navigate:r}}const Wn=ke({__name:"AppList",setup(o){const{listRef:e,tableData:t,tableHeight:n,taskConfigStore:i,add:r,remove:l,navigate:s}=Gn();return(u,a)=>{const f=dn,c=pn,p=fn,m=cn;return Z(),$e("div",{class:"flex gap-4 h-100%",ref_key:"listRef",ref:e},[S(m,{class:"taskListTable","row-key":"data",onCellDblclick:O(r),"highlight-current-row":"",data:O(t),style:{width:"100px"},height:O(n)},{empty:E(()=>a[0]||(a[0]=[dt("span",null,"无任务",-1)])),default:E(()=>[S(p,{label:"任务列表"},{header:E(()=>[S(f,null,{default:E(()=>a[1]||(a[1]=[$("任务列表")])),_:1,__:[1]})]),default:E(v=>[S(c,{onClick:y=>O(s)(v.row)},{default:E(()=>[$(yt(v.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"]),S(m,{class:"executeListTable","row-key":"data",onCellDblclick:O(l),"highlight-current-row":"",data:O(i).$state.executeList,style:{width:"100px"},height:O(n)},{empty:E(()=>a[2]||(a[2]=[dt("span",null,"无任务",-1)])),default:E(()=>[S(p,{prop:"data",label:"执行列表"},{header:E(()=>[S(f,null,{default:E(()=>a[3]||(a[3]=[$("执行列表")])),_:1,__:[3]})]),default:E(v=>[S(c,{onClick:y=>O(s)(v.row)},{default:E(()=>[$(yt(v.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"])],512)}}}),zn={class:"flex justify-between"},eo=ke({__name:"AppScript",setup(o){return(e,t)=>{const n=ln,i=sn("router-view"),r=an,l=un;return Z(),Ne(r,{class:"h-100%"},{default:E(()=>[S(n,null,{default:E(()=>[dt("div",zn,[S(vn)])]),_:1}),S(l,null,{default:E(()=>[S(r,{class:"flex gap-x-10 h-100%"},{default:E(()=>[S(Wn,{class:"h-100%"}),S(i)]),_:1})]),_:1})]),_:1})}}});export{eo as default};
