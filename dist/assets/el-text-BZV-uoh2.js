import{g as w,a8 as A,r as x,O as k,aY as _,i as b,A as g,aZ as z,Y as E,b as F,t as R,f as S,u as U,e as B,ah as y,n as H,aU as P,c as W,o as D,w as I,k as K,G as N,z as Y,C as G,aP as L,a7 as M}from"./index-rX9X-umt.js";import{e as O,b as Z}from"./use-form-common-props-CuysIWpJ.js";function tt(r,{disabled:e,beforeFocus:s,afterFocus:f,beforeBlur:l,afterBlur:c}={}){const p=w(),{emit:t}=p,a=A(),o=x(!1),d=n=>{const i=b(s)?s(n):!1;g(e)||o.value||i||(o.value=!0,t("focus",n),f?.())},v=n=>{var i;const u=b(l)?l(n):!1;g(e)||n.relatedTarget&&((i=a.value)!=null&&i.contains(n.relatedTarget))||u||(o.value=!1,t("blur",n),c?.())},C=n=>{var i,u;g(e)||z(n.target)||(i=a.value)!=null&&i.contains(document.activeElement)&&a.value!==document.activeElement||(u=r.value)==null||u.focus()};return k([a,()=>g(e)],([n,i])=>{n&&(i?n.removeAttribute("tabindex"):n.setAttribute("tabindex","-1"))}),_(a,"focus",d,!0),_(a,"blur",v,!0),_(a,"click",C,!0),{isFocused:o,wrapperRef:a,handleFocus:d,handleBlur:v}}const $=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r);function et({afterComposition:r,emit:e}){const s=x(!1),f=t=>{e?.("compositionstart",t),s.value=!0},l=t=>{var a;e?.("compositionupdate",t);const o=(a=t.target)==null?void 0:a.value,d=o[o.length-1]||"";s.value=!$(d)},c=t=>{e?.("compositionend",t),s.value&&(s.value=!1,E(()=>r(t)))};return{isComposing:s,handleComposition:t=>{t.type==="compositionend"?c(t):l(t)},handleCompositionStart:f,handleCompositionUpdate:l,handleCompositionEnd:c}}const j=F({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:O,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),q=S({name:"ElText"}),J=S({...q,props:j,setup(r){const e=r,s=x(),f=Z(),l=U("text"),c=B(()=>[l.b(),l.m(e.type),l.m(f.value),l.is("truncated",e.truncated),l.is("line-clamp",!y(e.lineClamp))]),p=()=>{var t,a,o,d,v,C,n;if(L().title)return;let u=!1;const T=((t=s.value)==null?void 0:t.textContent)||"";if(e.truncated){const m=(a=s.value)==null?void 0:a.offsetWidth,h=(o=s.value)==null?void 0:o.scrollWidth;m&&h&&h>m&&(u=!0)}else if(!y(e.lineClamp)){const m=(d=s.value)==null?void 0:d.offsetHeight,h=(v=s.value)==null?void 0:v.scrollHeight;m&&h&&h>m&&(u=!0)}u?(C=s.value)==null||C.setAttribute("title",T):(n=s.value)==null||n.removeAttribute("title")};return H(p),P(p),(t,a)=>(D(),W(G(t.tag),{ref_key:"textRef",ref:s,class:Y(g(c)),style:N({"-webkit-line-clamp":t.lineClamp})},{default:I(()=>[K(t.$slots,"default")]),_:3},8,["class","style"]))}});var Q=R(J,[["__file","text.vue"]]);const st=M(Q);export{st as E,tt as a,et as u};
