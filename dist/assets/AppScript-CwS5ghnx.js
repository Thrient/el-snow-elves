import{b as Re,i as Y,g as pe,d as ue,r as E,e as c,s as nl,u as X,t as al,f as H,h as ol,j as J,k as we,l as Z,m as ie,v as Le,o as C,n as I,p as $,q as P,x as y,y as de,z as ot,A as W,B as Me,C as ce,D as st,E as G,F as k,G as F,H as M,I as Ce,J as Oe,K,V as sl,L as Se,M as _e,N as il,O as xe,P as rl,Q as ul,R as dl,S as cl,T as pl,U as fl,W as et,X as oe,Y as vl,Z as ml,$ as tt,a0 as hl,a1 as q,a2 as bl,a3 as w,w as b,c as A,a4 as De,a5 as lt,a as z,a6 as se,a7 as gl,a8 as ke,a9 as yl,aa as Sl,ab as Cl,ac as wl,ad as it,ae as Ol,af as El,ag as Vl,ah as rt,ai as Il,_ as Tl,aj as kl,ak as Dl,al as $l,am as Rl}from"./index-FRVguIct.js";import{b as Ll,c as Q,i as re,d as Ml,s as Bl,t as nt,a as Nl,E as Wl,e as ut,f as Fl,g as Pl}from"./el-table-column-D6xMWYhp.js";import{E as zl}from"./el-button-tMPUpgZ7.js";import{g as ee,u as Al,U as x,C as dt,a as Hl}from"./task-config-FSChBe8a.js";import{u as Kl,a as Ul,b as jl,c as Gl}from"./use-form-common-props-AxxbEoG-.js";import{u as ql,a as Ql,E as Yl}from"./el-text-DyumQvlH.js";function Jl(e,o,a,u){e.length;for(var s=a+1;s--;)if(o(e[s],s,e))return s;return-1}function Xl(e,o,a){var u=e==null?0:e.length;if(!u)return-1;var s=u-1;return Jl(e,Ll(o),s)}const Zl=Symbol("emptyValuesContextKey"),_l=["",void 0,null],xl=void 0,en=Re({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>Y(e)?!e():!e}}),tn=(e,o)=>{const a=pe()?ue(Zl,E({})):E({}),u=c(()=>e.emptyValues||a.value.emptyValues||_l),s=c(()=>Y(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:Y(a.value.valueOnClear)?a.value.valueOnClear():a.value.valueOnClear!==void 0?a.value.valueOnClear:xl),g=l=>u.value.includes(l);return u.value.includes(s.value),{emptyValues:u,valueOnClear:s,isEmptyValue:g}};function ln(){const e=nl(),o=E(0),a=11,u=c(()=>({minWidth:`${Math.max(o.value,a)}px`}));return X(e,()=>{var g,l;o.value=(l=(g=e.value)==null?void 0:g.getBoundingClientRect().width)!=null?l:0}),{calculatorRef:e,calculatorWidth:o,inputStyle:u}}const ct=Symbol("ElSelectGroup"),Ee=Symbol("ElSelect"),$e="ElOption",nn=Re({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),an=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function on(e,o){const a=ue(Ee);a||al($e,"usage: <el-select><el-option /></el-select/>");const u=ue(ct,{disabled:!1}),s=c(()=>h(Q(a.props.modelValue),e.value)),g=c(()=>{var i;if(a.props.multiple){const d=Q((i=a.props.modelValue)!=null?i:[]);return!s.value&&d.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),l=c(()=>{var i;return(i=e.label)!=null?i:H(e.value)?"":e.value}),S=c(()=>e.value||e.label||""),v=c(()=>e.disabled||o.groupDisabled||g.value),m=pe(),h=(i=[],d)=>{if(H(e.value)){const V=a.props.valueKey;return i&&i.some(D=>ol(ee(D,V))===ee(d,V))}else return i&&i.includes(d)},p=()=>{!e.disabled&&!u.disabled&&(a.states.hoveringIndex=a.optionsArray.indexOf(m.proxy))},r=i=>{const d=new RegExp(an(i),"i");o.visible=d.test(String(l.value))||e.created};return J(()=>l.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),J(()=>e.value,(i,d)=>{const{remote:V,valueKey:D}=a.props;if((V?i!==d:!re(i,d))&&(a.onOptionDestroy(d,m.proxy),a.onOptionCreate(m.proxy)),!e.created&&!V){if(D&&H(i)&&H(d)&&i[D]===d[D])return;a.setSelected()}}),J(()=>u.disabled,()=>{o.groupDisabled=u.disabled},{immediate:!0}),{select:a,currentLabel:l,currentValue:S,itemSelected:s,isDisabled:v,hoverItem:p,updateOption:r}}const sn=Z({name:$e,componentName:$e,props:nn,setup(e){const o=de("select"),a=ot(),u=c(()=>[o.be("dropdown","item"),o.is("disabled",W(S)),o.is("selected",W(l)),o.is("hovering",W(r))]),s=ce({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:g,itemSelected:l,isDisabled:S,select:v,hoverItem:m,updateOption:h}=on(e,s),{visible:p,hover:r}=Me(s),i=pe().proxy;v.onOptionCreate(i),st(()=>{const V=i.value,{selected:D}=v.states,R=D.some(O=>O.value===i.value);G(()=>{v.states.cachedOptions.get(V)===i&&!R&&v.states.cachedOptions.delete(V)}),v.onOptionDestroy(V,i)});function d(){S.value||v.handleOptionSelect(i)}return{ns:o,id:a,containerKls:u,currentLabel:g,itemSelected:l,isDisabled:S,select:v,visible:p,hover:r,states:s,hoverItem:m,updateOption:h,selectOptionClick:d}}});function rn(e,o){return ie((C(),I("li",{id:e.id,class:y(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:P(e.selectOptionClick,["stop"])},[$(e.$slots,"default",{},()=>[k("span",null,F(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Le,e.visible]])}var Be=we(sn,[["render",rn],["__file","option.vue"]]);const un=Z({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ue(Ee),o=de("select"),a=c(()=>e.props.popperClass),u=c(()=>e.props.multiple),s=c(()=>e.props.fitInputWidth),g=E("");function l(){var S;g.value=`${(S=e.selectRef)==null?void 0:S.offsetWidth}px`}return Oe(()=>{l(),X(e.selectRef,l)}),{ns:o,minWidth:g,popperClass:a,isMultiple:u,isFitInputWidth:s}}});function dn(e,o,a,u,s,g){return C(),I("div",{class:y([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Ce({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(C(),I("div",{key:0,class:y(e.ns.be("dropdown","header"))},[$(e.$slots,"header")],2)):M("v-if",!0),$(e.$slots,"default"),e.$slots.footer?(C(),I("div",{key:1,class:y(e.ns.be("dropdown","footer"))},[$(e.$slots,"footer")],2)):M("v-if",!0)],6)}var cn=we(un,[["render",dn],["__file","select-dropdown.vue"]]);const pn=(e,o)=>{const{t:a}=Al(),u=ot(),s=de("select"),g=de("input"),l=ce({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),S=E(),v=E(),m=E(),h=E(),p=E(),r=E(),i=E(),d=E(),V=E(),D=E(),R=E(),O=E(!1),N=E(),{form:fe,formItem:U}=Kl(),{inputId:ft}=Ul(e,{formItemContext:U}),{valueOnClear:vt,isEmptyValue:mt}=tn(e),{isComposing:Ne,handleCompositionStart:ht,handleCompositionUpdate:bt,handleCompositionEnd:gt}=ql({afterComposition:t=>Ge(t)}),te=c(()=>e.disabled||!!fe?.disabled),{wrapperRef:We,isFocused:Fe,handleBlur:yt}=Ql(p,{disabled:te,afterFocus(){e.automaticDropdown&&!O.value&&(O.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(t){var n,f;return((n=m.value)==null?void 0:n.isFocusInsideContent(t))||((f=h.value)==null?void 0:f.isFocusInsideContent(t))},afterBlur(){var t;O.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&((t=U?.validate)==null||t.call(U,"blur").catch(n=>xe()))}}),Ve=c(()=>K(e.modelValue)?e.modelValue.length>0:!mt(e.modelValue)),St=c(()=>{var t;return(t=fe?.statusIcon)!=null?t:!1}),Ct=c(()=>e.clearable&&!te.value&&l.inputHovering&&Ve.value),Pe=c(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),wt=c(()=>s.is("reverse",!!(Pe.value&&O.value))),Ie=c(()=>U?.validateState||""),Ot=c(()=>Ie.value&&sl[Ie.value]),Et=c(()=>e.remote?300:0),Vt=c(()=>e.remote&&!l.inputValue&&l.options.size===0),It=c(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&le.value===0?e.noMatchText||a("el.select.noMatch"):l.options.size===0?e.noDataText||a("el.select.noData"):null),le=c(()=>L.value.filter(t=>t.visible).length),L=c(()=>{const t=Array.from(l.options.values()),n=[];return l.optionValues.forEach(f=>{const T=t.findIndex(B=>B.value===f);T>-1&&n.push(t[T])}),n.length>=t.length?n:t}),Tt=c(()=>Array.from(l.cachedOptions.values())),kt=c(()=>{const t=L.value.filter(n=>!n.created).some(n=>n.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&l.inputValue!==""&&!t}),ze=()=>{e.filterable&&Y(e.filterMethod)||e.filterable&&e.remote&&Y(e.remoteMethod)||L.value.forEach(t=>{var n;(n=t.updateOption)==null||n.call(t,l.inputValue)})},Ae=jl(),Dt=c(()=>["small"].includes(Ae.value)?"small":"default"),$t=c({get(){return O.value&&!Vt.value},set(t){O.value=t}}),Rt=c(()=>{if(e.multiple&&!Se(e.modelValue))return Q(e.modelValue).length===0&&!l.inputValue;const t=K(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Se(t)?!l.inputValue:!0}),Lt=c(()=>{var t;const n=(t=e.placeholder)!=null?t:a("el.select.placeholder");return e.multiple||!Ve.value?n:l.selectedLabel}),Mt=c(()=>_e?null:"mouseenter");J(()=>e.modelValue,(t,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",ve("")),me(),!re(t,n)&&e.validateEvent&&U?.validate("change").catch(f=>xe())},{flush:"post",deep:!0}),J(()=>O.value,t=>{t?ve(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),o("visible-change",t)}),J(()=>l.options.entries(),()=>{dl&&(me(),e.defaultFirstOption&&(e.filterable||e.remote)&&le.value&&He())},{flush:"post"}),J([()=>l.hoveringIndex,L],([t])=>{cl(t)&&t>-1?N.value=L.value[t]||{}:N.value={},L.value.forEach(n=>{n.hover=N.value===n})}),il(()=>{l.isBeforeHide||ze()});const ve=t=>{l.previousQuery===t||Ne.value||(l.previousQuery=t,e.filterable&&Y(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&Y(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&le.value?G(He):G(Bt))},He=()=>{const t=L.value.filter(B=>B.visible&&!B.disabled&&!B.states.groupDisabled),n=t.find(B=>B.created),f=t[0],T=L.value.map(B=>B.value);l.hoveringIndex=Je(T,n||f)},me=()=>{if(e.multiple)l.selectedLabel="";else{const n=K(e.modelValue)?e.modelValue[0]:e.modelValue,f=Ke(n);l.selectedLabel=f.currentLabel,l.selected=[f];return}const t=[];Se(e.modelValue)||Q(e.modelValue).forEach(n=>{t.push(Ke(n))}),l.selected=t},Ke=t=>{let n;const f=ul(t);for(let _=l.cachedOptions.size-1;_>=0;_--){const j=Tt.value[_];if(f?ee(j.value,e.valueKey)===ee(t,e.valueKey):j.value===t){n={value:t,currentLabel:j.currentLabel,get isDisabled(){return j.isDisabled}};break}}if(n)return n;const T=f?t.label:t??"";return{value:t,currentLabel:T}},Bt=()=>{l.hoveringIndex=L.value.findIndex(t=>l.selected.some(n=>ge(n)===ge(t)))},Nt=()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(v.value).width)},Wt=()=>{l.collapseItemWidth=D.value.getBoundingClientRect().width},Te=()=>{var t,n;(n=(t=m.value)==null?void 0:t.updatePopper)==null||n.call(t)},Ue=()=>{var t,n;(n=(t=h.value)==null?void 0:t.updatePopper)==null||n.call(t)},je=()=>{l.inputValue.length>0&&!O.value&&(O.value=!0),ve(l.inputValue)},Ge=t=>{if(l.inputValue=t.target.value,e.remote)qe();else return je()},qe=Ml(()=>{je()},Et.value),ne=t=>{re(e.modelValue,t)||o(dt,t)},Ft=t=>Xl(t,n=>{const f=l.cachedOptions.get(n);return f&&!f.disabled&&!f.states.groupDisabled}),Pt=t=>{if(e.multiple&&t.code!==rl.delete&&t.target.value.length<=0){const n=Q(e.modelValue).slice(),f=Ft(n);if(f<0)return;const T=n[f];n.splice(f,1),o(x,n),ne(n),o("remove-tag",T)}},zt=(t,n)=>{const f=l.selected.indexOf(n);if(f>-1&&!te.value){const T=Q(e.modelValue).slice();T.splice(f,1),o(x,T),ne(T),o("remove-tag",n.value)}t.stopPropagation(),be()},Qe=t=>{t.stopPropagation();const n=e.multiple?[]:vt.value;if(e.multiple)for(const f of l.selected)f.isDisabled&&n.push(f.value);o(x,n),ne(n),l.hoveringIndex=-1,O.value=!1,o("clear"),be()},Ye=t=>{var n;if(e.multiple){const f=Q((n=e.modelValue)!=null?n:[]).slice(),T=Je(f,t);T>-1?f.splice(T,1):(e.multipleLimit<=0||f.length<e.multipleLimit)&&f.push(t.value),o(x,f),ne(f),t.created&&ve(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else o(x,t.value),ne(t.value),O.value=!1;be(),!O.value&&G(()=>{he(t)})},Je=(t,n)=>Se(n)?-1:H(n.value)?t.findIndex(f=>re(ee(f,e.valueKey),ge(n))):t.indexOf(n.value),he=t=>{var n,f,T,B,_;const j=K(t)?t[0]:t;let ye=null;if(j?.value){const ae=L.value.filter(ll=>ll.value===j.value);ae.length>0&&(ye=ae[0].$el)}if(m.value&&ye){const ae=(B=(T=(f=(n=m.value)==null?void 0:n.popperRef)==null?void 0:f.contentRef)==null?void 0:T.querySelector)==null?void 0:B.call(T,`.${s.be("dropdown","wrap")}`);ae&&Bl(ae,ye)}(_=R.value)==null||_.handleScroll()},At=t=>{l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},Ht=(t,n)=>{l.options.get(t)===n&&l.options.delete(t)},Kt=c(()=>{var t,n;return(n=(t=m.value)==null?void 0:t.popperRef)==null?void 0:n.contentRef}),Ut=()=>{l.isBeforeHide=!1,G(()=>{var t;(t=R.value)==null||t.update(),he(l.selected)})},be=()=>{var t;(t=p.value)==null||t.focus()},jt=()=>{var t;if(O.value){O.value=!1,G(()=>{var n;return(n=p.value)==null?void 0:n.blur()});return}(t=p.value)==null||t.blur()},Gt=t=>{Qe(t)},qt=t=>{if(O.value=!1,Fe.value){const n=new FocusEvent("focus",t);G(()=>yt(n))}},Qt=()=>{l.inputValue.length>0?l.inputValue="":O.value=!1},Xe=()=>{te.value||(_e&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:O.value=!O.value)},Yt=()=>{if(!O.value)Xe();else{const t=L.value[l.hoveringIndex];t&&!t.isDisabled&&Ye(t)}},ge=t=>H(t.value)?ee(t.value,e.valueKey):t.value,Jt=c(()=>L.value.filter(t=>t.visible).every(t=>t.isDisabled)),Xt=c(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),Zt=c(()=>e.multiple?e.collapseTags?l.selected.slice(e.maxCollapseTags):[]:[]),Ze=t=>{if(!O.value){O.value=!0;return}if(!(l.options.size===0||le.value===0||Ne.value)&&!Jt.value){t==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):t==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const n=L.value[l.hoveringIndex];(n.isDisabled||!n.visible)&&Ze(t),G(()=>he(N.value))}},_t=()=>{if(!v.value)return 0;const t=window.getComputedStyle(v.value);return Number.parseFloat(t.gap||"6px")},xt=c(()=>{const t=_t();return{maxWidth:`${D.value&&e.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-t:l.selectionWidth}px`}}),el=c(()=>({maxWidth:`${l.selectionWidth}px`})),tl=t=>{o("popup-scroll",t)};return X(v,Nt),X(d,Te),X(We,Te),X(V,Ue),X(D,Wt),Oe(()=>{me()}),{inputId:ft,contentId:u,nsSelect:s,nsInput:g,states:l,isFocused:Fe,expanded:O,optionsArray:L,hoverOption:N,selectSize:Ae,filteredOptionsCount:le,updateTooltip:Te,updateTagTooltip:Ue,debouncedOnInputChange:qe,onInput:Ge,deletePrevTag:Pt,deleteTag:zt,deleteSelected:Qe,handleOptionSelect:Ye,scrollToOption:he,hasModelValue:Ve,shouldShowPlaceholder:Rt,currentPlaceholder:Lt,mouseEnterEventName:Mt,needStatusIcon:St,showClose:Ct,iconComponent:Pe,iconReverse:wt,validateState:Ie,validateIcon:Ot,showNewOption:kt,updateOptions:ze,collapseTagSize:Dt,setSelected:me,selectDisabled:te,emptyText:It,handleCompositionStart:ht,handleCompositionUpdate:bt,handleCompositionEnd:gt,onOptionCreate:At,onOptionDestroy:Ht,handleMenuEnter:Ut,focus:be,blur:jt,handleClearClick:Gt,handleClickOutside:qt,handleEsc:Qt,toggleMenu:Xe,selectOption:Yt,getValueKey:ge,navigateOptions:Ze,dropdownMenuVisible:$t,showTagList:Xt,collapseTagList:Zt,popupScroll:tl,tagStyle:xt,collapseTagStyle:el,popperRef:Kt,inputRef:p,tooltipRef:m,tagTooltipRef:h,prefixRef:r,suffixRef:i,selectRef:S,wrapperRef:We,selectionRef:v,scrollbarRef:R,menuRef:d,tagMenuRef:V,collapseItemRef:D}};var fn=Z({name:"ElOptions",setup(e,{slots:o}){const a=ue(Ee);let u=[];return()=>{var s,g;const l=(s=o.default)==null?void 0:s.call(o),S=[];function v(m){K(m)&&m.forEach(h=>{var p,r,i,d;const V=(p=h?.type||{})==null?void 0:p.name;V==="ElOptionGroup"?v(!pl(h.children)&&!K(h.children)&&Y((r=h.children)==null?void 0:r.default)?(i=h.children)==null?void 0:i.default():h.children):V==="ElOption"?S.push((d=h.props)==null?void 0:d.value):K(h.children)&&v(h.children)})}return l.length&&v((g=l[0])==null?void 0:g.children),re(S,u)||(u=S,a&&(a.states.optionValues=S)),l}}});const vn=Re({name:String,id:String,modelValue:{type:oe([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Gl,effect:{type:oe(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:oe(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:et.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:tt,default:hl},fitInputWidth:Boolean,suffixIcon:{type:tt,default:ml},tagType:{...nt.type,default:"info"},tagEffect:{...nt.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:oe(String),values:vl,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:et.appendTo,...en,...fl(["ariaLabel"])});Nl.scroll;const at="ElSelect",mn=Z({name:at,componentName:at,components:{ElSelectMenu:cn,ElOption:Be,ElOptions:fn,ElTag:ut,ElScrollbar:Wl,ElTooltip:wl,ElIcon:Cl},directives:{ClickOutside:Sl},props:vn,emits:[x,dt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:o,slots:a}){const u=pe();u.appContext.config.warnHandler=(...r)=>{!r[0]||r[0].includes('Slot "default" invoked outside of the render function')||console.warn(...r)};const s=c(()=>{const{modelValue:r,multiple:i}=e,d=i?[]:void 0;return K(r)?i?r:d:i?d:r}),g=ce({...Me(e),modelValue:s}),l=pn(g,o),{calculatorRef:S,inputStyle:v}=ln(),m=r=>r.reduce((i,d)=>(i.push(d),d.children&&d.children.length>0&&i.push(...m(d.children)),i),[]),h=r=>{Ol(r||[]).forEach(d=>{var V;if(H(d)&&(d.type.name==="ElOption"||d.type.name==="ElTree")){const D=d.type.name;if(D==="ElTree"){const R=((V=d.props)==null?void 0:V.data)||[];m(R).forEach(N=>{N.currentLabel=N.label||(H(N.value)?"":N.value),l.onOptionCreate(N)})}else if(D==="ElOption"){const R={...d.props};R.currentLabel=R.label||(H(R.value)?"":R.value),l.onOptionCreate(R)}}})};J(()=>{var r;return(r=a.default)==null?void 0:r.call(a)},r=>{e.persistent||h(r)},{immediate:!0}),it(Ee,ce({props:g,states:l.states,selectRef:l.selectRef,optionsArray:l.optionsArray,setSelected:l.setSelected,handleOptionSelect:l.handleOptionSelect,onOptionCreate:l.onOptionCreate,onOptionDestroy:l.onOptionDestroy}));const p=c(()=>e.multiple?l.states.selected.map(r=>r.currentLabel):l.states.selectedLabel);return{...l,modelValue:s,selectedLabel:p,calculatorRef:S,inputStyle:v}}});function hn(e,o){const a=q("el-tag"),u=q("el-tooltip"),s=q("el-icon"),g=q("el-option"),l=q("el-options"),S=q("el-scrollbar"),v=q("el-select-menu"),m=bl("click-outside");return ie((C(),I("div",{ref:"selectRef",class:y([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[yl(e.mouseEnterEventName)]:h=>e.states.inputHovering=!0,onMouseleave:h=>e.states.inputHovering=!1},[w(u,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:h=>e.states.isBeforeHide=!1},{default:b(()=>{var h;return[k("div",{ref:"wrapperRef",class:y([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:P(e.toggleMenu,["prevent"])},[e.$slots.prefix?(C(),I("div",{key:0,ref:"prefixRef",class:y(e.nsSelect.e("prefix"))},[$(e.$slots,"prefix")],2)):M("v-if",!0),k("div",{ref:"selectionRef",class:y([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?$(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(C(!0),I(De,null,lt(e.showTagList,p=>(C(),I("div",{key:e.getValueKey(p),class:y(e.nsSelect.e("selected-item"))},[w(a,{closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ce(e.tagStyle),onClose:r=>e.deleteTag(r,p)},{default:b(()=>[k("span",{class:y(e.nsSelect.e("tags-text"))},[$(e.$slots,"label",{label:p.currentLabel,value:p.value},()=>[z(F(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(C(),A(u,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,teleported:e.teleported},{default:b(()=>[k("div",{ref:"collapseItemRef",class:y(e.nsSelect.e("selected-item"))},[w(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ce(e.collapseTagStyle)},{default:b(()=>[k("span",{class:y(e.nsSelect.e("tags-text"))}," + "+F(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:b(()=>[k("div",{ref:"tagMenuRef",class:y(e.nsSelect.e("selection"))},[(C(!0),I(De,null,lt(e.collapseTagList,p=>(C(),I("div",{key:e.getValueKey(p),class:y(e.nsSelect.e("selected-item"))},[w(a,{class:"in-tooltip",closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:r=>e.deleteTag(r,p)},{default:b(()=>[k("span",{class:y(e.nsSelect.e("tags-text"))},[$(e.$slots,"label",{label:p.currentLabel,value:p.value},()=>[z(F(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","teleported"])):M("v-if",!0)]):M("v-if",!0),k("div",{class:y([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[ie(k("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":p=>e.states.inputValue=p,type:"text",name:e.name,class:y([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Ce(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((h=e.hoverOption)==null?void 0:h.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[se(P(p=>e.navigateOptions("next"),["stop","prevent"]),["down"]),se(P(p=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),se(P(e.handleEsc,["stop","prevent"]),["esc"]),se(P(e.selectOption,["stop","prevent"]),["enter"]),se(P(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:P(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[gl,e.states.inputValue]]),e.filterable?(C(),I("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:y(e.nsSelect.e("input-calculator")),textContent:F(e.states.inputValue)},null,10,["textContent"])):M("v-if",!0)],2),e.shouldShowPlaceholder?(C(),I("div",{key:1,class:y([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?$(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[k("span",null,F(e.currentPlaceholder),1)]):(C(),I("span",{key:1},F(e.currentPlaceholder),1))],2)):M("v-if",!0)],2),k("div",{ref:"suffixRef",class:y(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(C(),A(s,{key:0,class:y([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:b(()=>[(C(),A(ke(e.iconComponent)))]),_:1},8,["class"])):M("v-if",!0),e.showClose&&e.clearIcon?(C(),A(s,{key:1,class:y([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:b(()=>[(C(),A(ke(e.clearIcon)))]),_:1},8,["class","onClick"])):M("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(C(),A(s,{key:2,class:y([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:b(()=>[(C(),A(ke(e.validateIcon)))]),_:1},8,["class"])):M("v-if",!0)],2)],10,["onClick"])]}),content:b(()=>[w(v,{ref:"menuRef"},{default:b(()=>[e.$slots.header?(C(),I("div",{key:0,class:y(e.nsSelect.be("dropdown","header")),onClick:P(()=>{},["stop"])},[$(e.$slots,"header")],10,["onClick"])):M("v-if",!0),ie(w(S,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:y([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:b(()=>[e.showNewOption?(C(),A(g,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):M("v-if",!0),w(l,null,{default:b(()=>[$(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Le,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(C(),I("div",{key:1,class:y(e.nsSelect.be("dropdown","loading"))},[$(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(C(),I("div",{key:2,class:y(e.nsSelect.be("dropdown","empty"))},[$(e.$slots,"empty",{},()=>[k("span",null,F(e.emptyText),1)])],2)):M("v-if",!0),e.$slots.footer?(C(),I("div",{key:3,class:y(e.nsSelect.be("dropdown","footer")),onClick:P(()=>{},["stop"])},[$(e.$slots,"footer")],10,["onClick"])):M("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[m,e.handleClickOutside,e.popperRef]])}var bn=we(mn,[["render",hn],["__file","select.vue"]]);const gn=Z({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const o=de("select"),a=E(),u=pe(),s=E([]);it(ct,ce({...Me(e)}));const g=c(()=>s.value.some(m=>m.visible===!0)),l=m=>{var h;return m.type.name==="ElOption"&&!!((h=m.component)!=null&&h.proxy)},S=m=>{const h=Q(m),p=[];return h.forEach(r=>{var i;Vl(r)&&(l(r)?p.push(r.component.proxy):K(r.children)&&r.children.length?p.push(...S(r.children)):(i=r.component)!=null&&i.subTree&&p.push(...S(r.component.subTree)))}),p},v=()=>{s.value=S(u.subTree)};return Oe(()=>{v()}),El(a,v,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:g,ns:o}}});function yn(e,o,a,u,s,g){return ie((C(),I("ul",{ref:"groupRef",class:y(e.ns.be("group","wrap"))},[k("li",{class:y(e.ns.be("group","title"))},F(e.label),3),k("li",null,[k("ul",{class:y(e.ns.b("group"))},[$(e.$slots,"default")],2)])],2)),[[Le,e.visible]])}var pt=we(gn,[["render",yn],["__file","option-group.vue"]]);const Sn=Il(bn,{Option:Be,OptionGroup:pt}),Cn=rt(Be);rt(pt);const wn={};function On(e,o){const a=zl,u=Cn,s=Sn;return C(),I(De,null,[w(a,{type:"primary"},{default:b(()=>o[0]||(o[0]=[z("导入配置")])),_:1,__:[0]}),w(a,{type:"success"},{default:b(()=>o[1]||(o[1]=[z("保存配置")])),_:1,__:[1]}),w(s,{class:"p-x-10px",style:{width:"180px"}},{default:b(()=>[w(u,{label:"配置1",value:"1"}),w(u,{label:"配置2",value:"2"})]),_:1}),w(a,{type:"danger"},{default:b(()=>o[2]||(o[2]=[z("删除配置")])),_:1,__:[2]}),w(a,{type:"warning"},{default:b(()=>o[3]||(o[3]=[z("导出配置")])),_:1,__:[3]})],64)}const En=Tl(wn,[["render",On]]);function Vn(){const e=E(),o=Hl(),a=E(0),u=E([{data:"课业任务",card:""},{data:"帮派任务",card:""},{data:"门客设宴",card:""},{data:"破阵设宴",card:""},{data:"单人论剑",card:""},{data:"侠缘喊话",card:"/script/chivalry-task-card"}]),s=async v=>{v.card!==""&&await kl.push(v.card)},g=async v=>{await o.addExecuteList(v)},l=async v=>{await o.removeExecuteList(v)},S=()=>{if(e.value){const v=e.value.clientHeight;a.value=v-10}};return Oe(()=>{S(),window.addEventListener("resize",S)}),st(()=>{window.removeEventListener("resize",S)}),{listRef:e,tableHeight:a,tableData:u,taskConfigStore:o,add:g,remove:l,navigate:s}}const In=Z({__name:"AppList",setup(e){const{listRef:o,tableData:a,tableHeight:u,taskConfigStore:s,add:g,remove:l,navigate:S}=Vn();return(v,m)=>{const h=ut,p=Yl,r=Pl,i=Fl;return C(),I("div",{class:"flex gap-4 h-100%",ref_key:"listRef",ref:o},[w(i,{onCellDblclick:W(g),"highlight-current-row":"",data:W(a),style:{width:"100px"},height:W(u)},{empty:b(()=>m[0]||(m[0]=[k("span",null,"无任务",-1)])),default:b(()=>[w(r,{label:"任务列表"},{header:b(()=>[w(h,null,{default:b(()=>m[1]||(m[1]=[z("任务列表")])),_:1,__:[1]})]),default:b(d=>[w(p,{onClick:V=>W(S)(d.row)},{default:b(()=>[z(F(d.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"]),w(i,{onCellDblclick:W(l),"highlight-current-row":"",data:W(s).$state.executeList,style:{width:"100px"},height:W(u)},{empty:b(()=>m[2]||(m[2]=[k("span",null,"无任务",-1)])),default:b(()=>[w(r,{prop:"data",label:"执行列表"},{header:b(()=>[w(h,null,{default:b(()=>m[3]||(m[3]=[z("执行列表")])),_:1,__:[3]})]),default:b(d=>[w(p,{onClick:V=>W(S)(d.row)},{default:b(()=>[z(F(d.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"])],512)}}}),Tn={class:"flex justify-between"},Bn=Z({__name:"AppScript",setup(e){return(o,a)=>{const u=$l,s=q("router-view"),g=Dl,l=Rl;return C(),A(g,{class:"h-100%"},{default:b(()=>[w(u,null,{default:b(()=>[k("div",Tn,[w(En)])]),_:1}),w(l,null,{default:b(()=>[w(g,{class:"flex gap-x-10 h-100%"},{default:b(()=>[w(In,{class:"h-100%"}),w(s)]),_:1})]),_:1})]),_:1})}}});export{Bn as default};
