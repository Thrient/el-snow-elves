import{N as rt,d as re,b as Tt,u as It,e as T,h as Dn,P as lt,r as se,f as vt,i as Sn,g as at,j as Tn,k as Ut,l as bt,m as In,n as qt,p as Mt,F as On,q as ve,s as _e,o as W,t as Ce,v as yt,x as pe,y as g,z as wt,w as D,c as be,A as An,C as Pn,E as kn,B as Kt,D as xn,G as Mn,H as Je,I as Nn,J as Zt,K as Nt,L as Ge,M as Fn,O as Ln,Q as Bn,R as Rn,S as Yn,T as Xn,U as Ft,V as U,W as $n,X as Lt,Y as zn,Z as Hn,$ as Vn,a0 as Wn,a1 as Gn,a2 as jn,a3 as Un,a4 as qn,a5 as Kn,a6 as Zn,a7 as Jn,a8 as Qn,a9 as Jt,aa as Bt,ab as eo,ac as Et,ad as Qt,a as oe,ae as to,af as no,ag as oo,ah as ao,ai as io}from"./index-BQXBRizk.js";import{g as ro,E as lo}from"./el-scrollbar-C0mqRmN6.js";import{E as en,a as tn}from"./el-select-BdXKACbE.js";import{u as so,E as nn}from"./el-button-6sxHX96G.js";import{u as uo}from"./index-C-EP3gQa.js";import{U as on}from"./index-DnZfuTQd.js";import{u as co}from"./index-DedqrhJF.js";import{E as fo,a as po}from"./el-table-column-i93LlXc0.js";import"./el-checkbox-BkuGyo-n.js";import{E as ho}from"./el-text-Bo9tYQT_.js";import"./use-form-common-props-COd5GRrv.js";const an=t=>{if(!t)return{onClick:rt,onMousedown:rt,onMouseup:rt};let e=!1,n=!1;return{onClick:r=>{e&&n&&t(r),e=n=!1},onMousedown:r=>{e=r.target===r.currentTarget},onMouseup:r=>{n=r.target===r.currentTarget}}},mo=Tt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:vt([String,Array,Object])},zIndex:{type:vt([String,Number])}}),go={click:t=>t instanceof MouseEvent},vo="overlay";var bo=re({name:"ElOverlay",props:mo,emits:go,setup(t,{slots:e,emit:n}){const o=It(vo),a=u=>{n("click",u)},{onClick:i,onMousedown:r,onMouseup:s}=an(t.customMaskEvent?void 0:a);return()=>t.mask?T("div",{class:[o.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:i,onMousedown:r,onMouseup:s},[se(e,"default")],lt.STYLE|lt.CLASS|lt.PROPS,["onClick","onMouseup","onMousedown"]):Dn("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[se(e,"default")])}});const yo=bo,rn=Symbol("dialogInjectionKey"),ln=Tt({center:Boolean,alignCenter:Boolean,closeIcon:{type:Sn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),wo={close:()=>!0},Eo=(t,e,n,o)=>{const a={offsetX:0,offsetY:0},i=(d,p)=>{if(t.value){const{offsetX:h,offsetY:m}=a,y=t.value.getBoundingClientRect(),A=y.left,S=y.top,I=y.width,x=y.height,M=document.documentElement.clientWidth,z=document.documentElement.clientHeight,Y=-A+h,H=-S+m,q=M-A-I+h,F=z-S-(x<z?x:0)+m;o?.value||(d=Math.min(Math.max(d,Y),q),p=Math.min(Math.max(p,H),F)),a.offsetX=d,a.offsetY=p,t.value.style.transform=`translate(${bt(d)}, ${bt(p)})`}},r=d=>{const p=d.clientX,h=d.clientY,{offsetX:m,offsetY:y}=a,A=I=>{const x=m+I.clientX-p,M=y+I.clientY-h;i(x,M)},S=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",S)},s=()=>{e.value&&t.value&&(e.value.addEventListener("mousedown",r),window.addEventListener("resize",c))},u=()=>{e.value&&t.value&&(e.value.removeEventListener("mousedown",r),window.removeEventListener("resize",c))},l=()=>{a.offsetX=0,a.offsetY=0,t.value&&(t.value.style.transform="")},c=()=>{const{offsetX:d,offsetY:p}=a;i(d,p)};return at(()=>{Tn(()=>{n.value?s():u()})}),Ut(()=>{u()}),{resetPosition:l,updatePosition:c}},_o=(...t)=>e=>{t.forEach(n=>{In(n)?n(e):n.value=e})},Co=re({name:"ElDialogContent"}),Do=re({...Co,props:ln,emits:wo,setup(t,{expose:e}){const n=t,{t:o}=uo(),{Close:a}=Pn,{dialogRef:i,headerRef:r,bodyId:s,ns:u,style:l}=Mt(rn),{focusTrapRef:c}=Mt(On),d=ve(()=>[u.b(),u.is("fullscreen",n.fullscreen),u.is("draggable",n.draggable),u.is("align-center",n.alignCenter),{[u.m("center")]:n.center}]),p=_o(c,i),h=ve(()=>n.draggable),m=ve(()=>n.overflow),{resetPosition:y,updatePosition:A}=Eo(i,r,h,m);return e({resetPosition:y,updatePosition:A}),(S,I)=>(W(),_e("div",{ref:g(p),class:pe(g(d)),style:Kt(g(l)),tabindex:"-1"},[Ce("header",{ref_key:"headerRef",ref:r,class:pe([g(u).e("header"),S.headerClass,{"show-close":S.showClose}])},[se(S.$slots,"header",{},()=>[Ce("span",{role:"heading","aria-level":S.ariaLevel,class:pe(g(u).e("title"))},wt(S.title),11,["aria-level"])]),S.showClose?(W(),_e("button",{key:0,"aria-label":g(o)("el.dialog.close"),class:pe(g(u).e("headerbtn")),type:"button",onClick:x=>S.$emit("close")},[T(g(kn),{class:pe(g(u).e("close"))},{default:D(()=>[(W(),be(An(S.closeIcon||g(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):yt("v-if",!0)],2),Ce("div",{id:g(s),class:pe([g(u).e("body"),S.bodyClass])},[se(S.$slots,"default")],10,["id"]),S.$slots.footer?(W(),_e("footer",{key:0,class:pe([g(u).e("footer"),S.footerClass])},[se(S.$slots,"footer")],2)):yt("v-if",!0)],6))}});var So=qt(Do,[["__file","dialog-content.vue"]]);const To=Tt({...ln,appendToBody:Boolean,appendTo:{type:Mn.to.type,default:"body"},beforeClose:{type:vt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),Io={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[on]:t=>xn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Oo=(t,e={})=>{Je(t)||Nn("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||It("popup"),o=ve(()=>n.bm("parent","hidden"));if(!Zt||Nt(document.body,o.value))return;let a=0,i=!1,r="0";const s=()=>{setTimeout(()=>{typeof document>"u"||i&&document&&(document.body.style.width=r,Rn(document.body,o.value))},200)};Ge(t,u=>{if(!u){s();return}i=!Nt(document.body,o.value),i&&(r=document.body.style.width,Ln(document.body,o.value)),a=ro(n.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,c=Bn(document.body,"overflowY");a>0&&(l||c==="scroll")&&i&&(document.body.style.width=`calc(100% - ${a}px)`)}),Fn(()=>s())},Ao=(t,e)=>{var n;const a=Yn().emit,{nextZIndex:i}=Xn();let r="";const s=Ft(),u=Ft(),l=U(!1),c=U(!1),d=U(!1),p=U((n=t.zIndex)!=null?n:i());let h,m;const y=so("namespace",$n),A=ve(()=>{const N={},R=`--${y.value}-dialog`;return t.fullscreen||(t.top&&(N[`${R}-margin-top`]=t.top),t.width&&(N[`${R}-width`]=bt(t.width))),N}),S=ve(()=>t.alignCenter?{display:"flex"}:{});function I(){a("opened")}function x(){a("closed"),a(on,!1),t.destroyOnClose&&(d.value=!1)}function M(){a("close")}function z(){m?.(),h?.(),t.openDelay&&t.openDelay>0?{stop:h}=Lt(()=>F(),t.openDelay):F()}function Y(){h?.(),m?.(),t.closeDelay&&t.closeDelay>0?{stop:m}=Lt(()=>ne(),t.closeDelay):ne()}function H(){function N(R){R||(c.value=!0,l.value=!1)}t.beforeClose?t.beforeClose(N):Y()}function q(){t.closeOnClickModal&&H()}function F(){Zt&&(l.value=!0)}function ne(){l.value=!1}function E(){a("openAutoFocus")}function fe(){a("closeAutoFocus")}function Q(N){var R;((R=N.detail)==null?void 0:R.focusReason)==="pointer"&&N.preventDefault()}t.lockScroll&&Oo(l);function le(){t.closeOnPressEscape&&H()}return Ge(()=>t.zIndex,()=>{var N;p.value=(N=t.zIndex)!=null?N:i()}),Ge(()=>t.modelValue,N=>{var R;N?(c.value=!1,z(),d.value=!0,p.value=(R=t.zIndex)!=null?R:i(),zn(()=>{a("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):l.value&&Y()}),Ge(()=>t.fullscreen,N=>{e.value&&(N?(r=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=r)}),at(()=>{t.modelValue&&(l.value=!0,d.value=!0,z())}),{afterEnter:I,afterLeave:x,beforeLeave:M,handleClose:H,onModalClick:q,close:Y,doClose:ne,onOpenAutoFocus:E,onCloseAutoFocus:fe,onCloseRequested:le,onFocusoutPrevented:Q,titleId:s,bodyId:u,closed:c,style:A,overlayDialogStyle:S,rendered:d,visible:l,zIndex:p}},Po=re({name:"ElDialog",inheritAttrs:!1}),ko=re({...Po,props:To,emits:Io,setup(t,{expose:e}){const n=t,o=Hn();co({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},ve(()=>!!o.title));const a=It("dialog"),i=U(),r=U(),s=U(),{visible:u,titleId:l,bodyId:c,style:d,overlayDialogStyle:p,rendered:h,zIndex:m,afterEnter:y,afterLeave:A,beforeLeave:S,handleClose:I,onModalClick:x,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:Y,onFocusoutPrevented:H}=Ao(n,i);Zn(rn,{dialogRef:i,headerRef:r,bodyId:c,ns:a,rendered:h,style:d});const q=an(x),F=ve(()=>n.draggable&&!n.fullscreen);return e({visible:u,dialogContentRef:s,resetPosition:()=>{var E;(E=s.value)==null||E.resetPosition()},handleClose:I}),(E,fe)=>(W(),be(g(Kn),{to:E.appendTo,disabled:E.appendTo!=="body"?!1:!E.appendToBody},{default:D(()=>[T(Vn,{name:"dialog-fade",onAfterEnter:g(y),onAfterLeave:g(A),onBeforeLeave:g(S),persisted:""},{default:D(()=>[Wn(T(g(yo),{"custom-mask-event":"",mask:E.modal,"overlay-class":E.modalClass,"z-index":g(m)},{default:D(()=>[Ce("div",{role:"dialog","aria-modal":"true","aria-label":E.title||void 0,"aria-labelledby":E.title?void 0:g(l),"aria-describedby":g(c),class:pe(`${g(a).namespace.value}-overlay-dialog`),style:Kt(g(p)),onClick:g(q).onClick,onMousedown:g(q).onMousedown,onMouseup:g(q).onMouseup},[T(g(Gn),{loop:"",trapped:g(u),"focus-start-el":"container",onFocusAfterTrapped:g(M),onFocusAfterReleased:g(z),onFocusoutPrevented:g(H),onReleaseRequested:g(Y)},{default:D(()=>[g(h)?(W(),be(So,jn({key:0,ref_key:"dialogContentRef",ref:s},E.$attrs,{center:E.center,"align-center":E.alignCenter,"close-icon":E.closeIcon,draggable:g(F),overflow:E.overflow,fullscreen:E.fullscreen,"header-class":E.headerClass,"body-class":E.bodyClass,"footer-class":E.footerClass,"show-close":E.showClose,title:E.title,"aria-level":E.headerAriaLevel,onClose:g(I)}),Un({header:D(()=>[E.$slots.title?se(E.$slots,"title",{key:1}):se(E.$slots,"header",{key:0,close:g(I),titleId:g(l),titleClass:g(a).e("title")})]),default:D(()=>[se(E.$slots,"default")]),_:2},[E.$slots.footer?{name:"footer",fn:D(()=>[se(E.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):yt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[qn,g(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var xo=qt(ko,[["__file","dialog.vue"]]);const Mo=Jn(xo);function No(){const t=Qn(),e=Jt(),n=U(!1),o=U(!1),a=U([]),i=async()=>{a.value=await window.pywebview?.api.emit("API:TASK:CONFIG:LIST")},r=async l=>{const c=await window.pywebview?.api.emit("API:TASK:CONFIG:lOAD",l);await e.loadTaskConfig(c)},s=async l=>{window.pywebview?.api.emit("API:TASK:CONFIG:SAVE",l,e.getTaskConfig),await i(),await t.updateCurrentConfiguration()},u=async l=>{window.pywebview?.api.emit("API:TASK:CONFIG:DELETE",l),await i(),await t.updateCurrentConfiguration()};return at(async()=>{await i()}),{saveDialogVisible:n,deleteDialogVisible:o,configurationList:a,sysConfigStore:t,getTaskConfiguration:r,saveConfig:s,deleteConfig:u}}function Fo(t,e){const n=U("");return{value:n,handleConfirm:()=>{t.value=!1,e("confirm",n.value)}}}const Rt=re({__name:"SelectDialog",props:Bt({options:{type:Array,default:[]},title:{type:String,default:"Dialog"},placeholder:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:Bt(["confirm"],["update:modelValue"]),setup(t,{emit:e}){const n=eo(t,"modelValue"),o=e,{value:a,handleConfirm:i}=Fo(n,o);return(r,s)=>{const u=tn,l=en,c=nn,d=Mo;return W(),be(d,{style:{width:"300px"},title:t.title,modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=p=>n.value=p),"align-center":""},{footer:D(()=>[T(c,{onClick:s[1]||(s[1]=p=>n.value=!1)},{default:D(()=>s[3]||(s[3]=[oe("取消")])),_:1,__:[3]}),T(c,{type:"primary",onClick:g(i)},{default:D(()=>s[4]||(s[4]=[oe("确认")])),_:1,__:[4]},8,["onClick"])]),default:D(()=>[T(l,{modelValue:g(a),"onUpdate:modelValue":s[0]||(s[0]=p=>Je(a)?a.value=p:null),filterable:"","allow-create":"","reserve-keyword":!1,"default-first-option":"",placeholder:t.placeholder},{default:D(()=>[(W(!0),_e(Et,null,Qt(t.options,p=>(W(),be(u,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["title","modelValue"])}}}),Lo=re({__name:"ConfigSetting",setup(t){const{saveDialogVisible:e,deleteDialogVisible:n,configurationList:o,sysConfigStore:a,getTaskConfiguration:i,saveConfig:r,deleteConfig:s}=No();return(u,l)=>{const c=nn,d=tn,p=en;return W(),_e(Et,null,[T(c,{type:"primary"},{default:D(()=>l[5]||(l[5]=[oe("导入配置")])),_:1,__:[5]}),T(c,{onClick:l[0]||(l[0]=h=>e.value=!0),type:"success"},{default:D(()=>l[6]||(l[6]=[oe("保存配置")])),_:1,__:[6]}),T(p,{onChange:g(i),modelValue:g(a).currentConfiguration,"onUpdate:modelValue":l[1]||(l[1]=h=>g(a).currentConfiguration=h),style:{width:"180px"}},{default:D(()=>[(W(!0),_e(Et,null,Qt(g(o),(h,m)=>(W(),be(d,{key:m,label:h,value:h},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"]),T(c,{onClick:l[2]||(l[2]=h=>n.value=!0),type:"danger"},{default:D(()=>l[7]||(l[7]=[oe("删除配置")])),_:1,__:[7]}),T(c,{type:"warning"},{default:D(()=>l[8]||(l[8]=[oe("导出配置")])),_:1,__:[8]}),T(Rt,{modelValue:g(e),"onUpdate:modelValue":l[3]||(l[3]=h=>Je(e)?e.value=h:null),options:g(o),title:"保存配置文件",onConfirm:g(r)},null,8,["modelValue","options","onConfirm"]),T(Rt,{modelValue:g(n),"onUpdate:modelValue":l[4]||(l[4]=h=>Je(n)?n.value=h:null),options:g(o),title:"删除配置文件",onConfirm:g(s)},null,8,["modelValue","options","onConfirm"])],64)}}}),Bo=re({__name:"AppHeader",setup(t){return(e,n)=>(W(),be(Lo))}});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(n),!0).forEach(function(o){Ro(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function je(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?je=function(e){return typeof e}:je=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(t)}function Ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(){return de=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},de.apply(this,arguments)}function Yo(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,i;for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Xo(t,e){if(t==null)return{};var n=Yo(t,e),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var $o="1.15.6";function ue(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ce=ue(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ye=ue(/Edge/i),Xt=ue(/firefox/i),Ne=ue(/safari/i)&&!ue(/chrome/i)&&!ue(/android/i),Ot=ue(/iP(ad|od|hone)/i),sn=ue(/chrome/i)&&ue(/android/i),un={capture:!1,passive:!1};function C(t,e,n){t.addEventListener(e,n,!ce&&un)}function _(t,e,n){t.removeEventListener(e,n,!ce&&un)}function Qe(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function dn(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function te(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Qe(t,e):Qe(t,e))||o&&t===n)return t;if(t===n)break}while(t=dn(t))}return null}var $t=/\s+/g;function K(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace($t," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace($t," ")}}function b(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function Oe(t,e){var n="";if(typeof t=="string")n=t;else do{var o=b(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function cn(t,e,n){if(t){var o=t.getElementsByTagName(e),a=0,i=o.length;if(n)for(;a<i;a++)n(o[a],a);return o}return[]}function ae(){var t=document.scrollingElement;return t||document.documentElement}function B(t,e,n,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var i,r,s,u,l,c,d;if(t!==window&&t.parentNode&&t!==ae()?(i=t.getBoundingClientRect(),r=i.top,s=i.left,u=i.bottom,l=i.right,c=i.height,d=i.width):(r=0,s=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!ce))do if(a&&a.getBoundingClientRect&&(b(a,"transform")!=="none"||n&&b(a,"position")!=="static")){var p=a.getBoundingClientRect();r-=p.top+parseInt(b(a,"border-top-width")),s-=p.left+parseInt(b(a,"border-left-width")),u=r+i.height,l=s+i.width;break}while(a=a.parentNode);if(o&&t!==window){var h=Oe(a||t),m=h&&h.a,y=h&&h.d;h&&(r/=y,s/=m,d/=m,c/=y,u=r+c,l=s+d)}return{top:r,left:s,bottom:u,right:l,width:d,height:c}}}function zt(t,e,n){for(var o=ge(t,!0),a=B(t)[e];o;){var i=B(o)[n],r=void 0;if(r=a>=i,!r)return o;if(o===ae())break;o=ge(o,!1)}return!1}function Ae(t,e,n,o){for(var a=0,i=0,r=t.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==v.ghost&&(o||r[i]!==v.dragged)&&te(r[i],n.draggable,t,!1)){if(a===e)return r[i];a++}i++}return null}function At(t,e){for(var n=t.lastElementChild;n&&(n===v.ghost||b(n,"display")==="none"||e&&!Qe(n,e));)n=n.previousElementSibling;return n||null}function J(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==v.clone&&(!e||Qe(t,e))&&n++;return n}function Ht(t){var e=0,n=0,o=ae();if(t)do{var a=Oe(t),i=a.a,r=a.d;e+=t.scrollLeft*i,n+=t.scrollTop*r}while(t!==o&&(t=t.parentNode));return[e,n]}function zo(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function ge(t,e){if(!t||!t.getBoundingClientRect)return ae();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=b(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ae();if(o||e)return n;o=!0}}while(n=n.parentNode);return ae()}function Ho(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function st(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Fe;function fn(t,e){return function(){if(!Fe){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),Fe=setTimeout(function(){Fe=void 0},e)}}}function Vo(){clearTimeout(Fe),Fe=void 0}function pn(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function hn(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function mn(t,e,n){var o={};return Array.from(t.children).forEach(function(a){var i,r,s,u;if(!(!te(a,e.draggable,t,!1)||a.animated||a===n)){var l=B(a);o.left=Math.min((i=o.left)!==null&&i!==void 0?i:1/0,l.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,l.top),o.right=Math.max((s=o.right)!==null&&s!==void 0?s:-1/0,l.right),o.bottom=Math.max((u=o.bottom)!==null&&u!==void 0?u:-1/0,l.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var j="Sortable"+new Date().getTime();function Wo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(b(a,"display")==="none"||a===v.ghost)){t.push({target:a,rect:B(a)});var i=ie({},t[t.length-1].rect);if(a.thisAnimationDuration){var r=Oe(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(zo(t,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var i=!1,r=0;t.forEach(function(s){var u=0,l=s.target,c=l.fromRect,d=B(l),p=l.prevFromRect,h=l.prevToRect,m=s.rect,y=Oe(l,!0);y&&(d.top-=y.f,d.left-=y.e),l.toRect=d,l.thisAnimationDuration&&st(p,d)&&!st(c,d)&&(m.top-d.top)/(m.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(u=jo(m,p,h,a.options)),st(d,c)||(l.prevFromRect=c,l.prevToRect=d,u||(u=a.options.animation),a.animate(l,m,d,u)),u&&(i=!0,r=Math.max(r,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(e),i?e=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),t=[]},animate:function(o,a,i,r){if(r){b(o,"transition",""),b(o,"transform","");var s=Oe(this.el),u=s&&s.a,l=s&&s.d,c=(a.left-i.left)/(u||1),d=(a.top-i.top)/(l||1);o.animatingX=!!c,o.animatingY=!!d,b(o,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Go(o),b(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),b(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){b(o,"transition",""),b(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function Go(t){return t.offsetWidth}function jo(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var De=[],ut={initializeByDefault:!0},Xe={mount:function(e){for(var n in ut)ut.hasOwnProperty(n)&&!(n in e)&&(e[n]=ut[n]);De.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),De.push(e)},pluginEvent:function(e,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var i=e+"Global";De.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][i]&&n[r.pluginName][i](ie({sortable:n},o)),n.options[r.pluginName]&&n[r.pluginName][e]&&n[r.pluginName][e](ie({sortable:n},o)))})},initializePlugins:function(e,n,o,a){De.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var l=new s(e,n,e.options);l.sortable=e,l.options=e.options,e[u]=l,de(o,l.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,n){var o={};return De.forEach(function(a){typeof a.eventProperties=="function"&&de(o,a.eventProperties.call(n[a.pluginName],e))}),o},modifyOption:function(e,n,o){var a;return De.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(a=i.optionListeners[n].call(e[i.pluginName],o))}),a}};function Uo(t){var e=t.sortable,n=t.rootEl,o=t.name,a=t.targetEl,i=t.cloneEl,r=t.toEl,s=t.fromEl,u=t.oldIndex,l=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,p=t.originalEvent,h=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[j],!!e){var y,A=e.options,S="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!ce&&!Ye?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=r||n,y.from=s||n,y.item=a||n,y.clone=i,y.oldIndex=u,y.newIndex=l,y.oldDraggableIndex=c,y.newDraggableIndex=d,y.originalEvent=p,y.pullMode=h?h.lastPutMode:void 0;var I=ie(ie({},m),Xe.getEventProperties(o,e));for(var x in I)y[x]=I[x];n&&n.dispatchEvent(y),A[S]&&A[S].call(e,y)}}var qo=["evt"],G=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,i=Xo(o,qo);Xe.pluginEvent.bind(v)(e,n,ie({dragEl:f,parentEl:k,ghostEl:w,rootEl:O,nextEl:Ee,lastDownEl:Ue,cloneEl:P,cloneHidden:me,dragStarted:ke,putSortable:X,activeSortable:v.active,originalEvent:a,oldIndex:Ie,oldDraggableIndex:Le,newIndex:Z,newDraggableIndex:he,hideGhostForTarget:yn,unhideGhostForTarget:wn,cloneNowHidden:function(){me=!0},cloneNowShown:function(){me=!1},dispatchSortableEvent:function(s){V({sortable:n,name:s,originalEvent:a})}},i))};function V(t){Uo(ie({putSortable:X,cloneEl:P,targetEl:f,rootEl:O,oldIndex:Ie,oldDraggableIndex:Le,newIndex:Z,newDraggableIndex:he},t))}var f,k,w,O,Ee,Ue,P,me,Ie,Z,Le,he,ze,X,Te=!1,et=!1,tt=[],ye,ee,dt,ct,Vt,Wt,ke,Se,Be,Re=!1,He=!1,qe,$,ft=[],_t=!1,nt=[],it=typeof document<"u",Ve=Ot,Gt=Ye||ce?"cssFloat":"float",Ko=it&&!sn&&!Ot&&"draggable"in document.createElement("div"),gn=function(){if(it){if(ce)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),vn=function(e,n){var o=b(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Ae(e,0,n),r=Ae(e,1,n),s=i&&b(i),u=r&&b(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+B(i).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+B(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return r&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=a&&o[Gt]==="none"||r&&o[Gt]==="none"&&l+c>a)?"vertical":"horizontal"},Zo=function(e,n,o){var a=o?e.left:e.top,i=o?e.right:e.bottom,r=o?e.width:e.height,s=o?n.left:n.top,u=o?n.right:n.bottom,l=o?n.width:n.height;return a===s||i===u||a+r/2===s+l/2},Jo=function(e,n){var o;return tt.some(function(a){var i=a[j].options.emptyInsertThreshold;if(!(!i||At(a))){var r=B(a),s=e>=r.left-i&&e<=r.right+i,u=n>=r.top-i&&n<=r.bottom+i;if(s&&u)return o=a}}),o},bn=function(e){function n(i,r){return function(s,u,l,c){var d=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(i==null&&(r||d))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return n(i(s,u,l,c),r)(s,u,l,c);var p=(r?s:u).options.group.name;return i===!0||typeof i=="string"&&i===p||i.join&&i.indexOf(p)>-1}}var o={},a=e.group;(!a||je(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,e.group=o},yn=function(){!gn&&w&&b(w,"display","none")},wn=function(){!gn&&w&&b(w,"display","")};it&&!sn&&document.addEventListener("click",function(t){if(et)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),et=!1,!1},!0);var we=function(e){if(f){e=e.touches?e.touches[0]:e;var n=Jo(e.clientX,e.clientY);if(n){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[j]._onDragOver(o)}}},Qo=function(e){f&&f.parentNode[j]._isOutsideThisEl(e.target)};function v(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=de({},e),t[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&(!Ne||Ot),emptyInsertThreshold:5};Xe.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);bn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Ko,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?C(t,"pointerdown",this._onTapStart):(C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),tt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),de(this,Wo())}v.prototype={constructor:v,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Se=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,a=this.options,i=a.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,c=a.filter;if(la(o),!f&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Ne&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=te(u,a.draggable,o,!1),!(u&&u.animated)&&Ue!==u)){if(Ie=J(u),Le=J(u,a.draggable),typeof c=="function"){if(c.call(this,e,u,this)){V({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:o,fromEl:o}),G("filter",n,{evt:e}),i&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=te(l,d.trim(),o,!1),d)return V({sortable:n,rootEl:d,name:"filter",targetEl:u,fromEl:o,toEl:o}),G("filter",n,{evt:e}),!0}),c)){i&&e.preventDefault();return}a.handle&&!te(l,a.handle,o,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,n,o){var a=this,i=a.el,r=a.options,s=i.ownerDocument,u;if(o&&!f&&o.parentNode===i){var l=B(o);if(O=i,f=o,k=f.parentNode,Ee=f.nextSibling,Ue=o,ze=r.group,v.dragged=f,ye={target:f,clientX:(n||e).clientX,clientY:(n||e).clientY},Vt=ye.clientX-l.left,Wt=ye.clientY-l.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,f.style["will-change"]="all",u=function(){if(G("delayEnded",a,{evt:e}),v.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Xt&&a.nativeDraggable&&(f.draggable=!0),a._triggerDragStart(e,n),V({sortable:a,name:"choose",originalEvent:e}),K(f,r.chosenClass,!0)},r.ignore.split(",").forEach(function(c){cn(f,c.trim(),pt)}),C(s,"dragover",we),C(s,"mousemove",we),C(s,"touchmove",we),r.supportPointer?(C(s,"pointerup",a._onDrop),!this.nativeDraggable&&C(s,"pointercancel",a._onDrop)):(C(s,"mouseup",a._onDrop),C(s,"touchend",a._onDrop),C(s,"touchcancel",a._onDrop)),Xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),G("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ye||ce))){if(v.eventCanceled){this._onDrop();return}r.supportPointer?(C(s,"pointerup",a._disableDelayedDrag),C(s,"pointercancel",a._disableDelayedDrag)):(C(s,"mouseup",a._disableDelayedDrag),C(s,"touchend",a._disableDelayedDrag),C(s,"touchcancel",a._disableDelayedDrag)),C(s,"mousemove",a._delayedDragTouchMoveHandler),C(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&C(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,r.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&pt(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"pointerup",this._disableDelayedDrag),_(e,"pointercancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):n?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(f,"dragend",this),C(O,"dragstart",this._onDragStart));try{document.selection?Ke(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Te=!1,O&&f){G("dragStarted",this,{evt:n}),this.nativeDraggable&&C(document,"dragover",Qo);var o=this.options;!e&&K(f,o.dragClass,!1),K(f,o.ghostClass,!0),v.active=this,e&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ee){this._lastX=ee.clientX,this._lastY=ee.clientY,yn();for(var e=document.elementFromPoint(ee.clientX,ee.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ee.clientX,ee.clientY),e!==n);)n=e;if(f.parentNode[j]._isOutsideThisEl(e),n)do{if(n[j]){var o=void 0;if(o=n[j]._onDragOver({clientX:ee.clientX,clientY:ee.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=dn(n));wn()}},_onTouchMove:function(e){if(ye){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,i=e.touches?e.touches[0]:e,r=w&&Oe(w,!0),s=w&&r&&r.a,u=w&&r&&r.d,l=Ve&&$&&Ht($),c=(i.clientX-ye.clientX+a.x)/(s||1)+(l?l[0]-ft[0]:0)/(s||1),d=(i.clientY-ye.clientY+a.y)/(u||1)+(l?l[1]-ft[1]:0)/(u||1);if(!v.active&&!Te){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(w){r?(r.e+=c-(dt||0),r.f+=d-(ct||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var p="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");b(w,"webkitTransform",p),b(w,"mozTransform",p),b(w,"msTransform",p),b(w,"transform",p),dt=c,ct=d,ee=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!w){var e=this.options.fallbackOnBody?document.body:O,n=B(f,!0,Ve,!0,e),o=this.options;if(Ve){for($=e;b($,"position")==="static"&&b($,"transform")==="none"&&$!==document;)$=$.parentNode;$!==document.body&&$!==document.documentElement?($===document&&($=ae()),n.top+=$.scrollTop,n.left+=$.scrollLeft):$=ae(),ft=Ht($)}w=f.cloneNode(!0),K(w,o.ghostClass,!1),K(w,o.fallbackClass,!0),K(w,o.dragClass,!0),b(w,"transition",""),b(w,"transform",""),b(w,"box-sizing","border-box"),b(w,"margin",0),b(w,"top",n.top),b(w,"left",n.left),b(w,"width",n.width),b(w,"height",n.height),b(w,"opacity","0.8"),b(w,"position",Ve?"absolute":"fixed"),b(w,"zIndex","100000"),b(w,"pointerEvents","none"),v.ghost=w,e.appendChild(w),b(w,"transform-origin",Vt/parseInt(w.style.width)*100+"% "+Wt/parseInt(w.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,a=e.dataTransfer,i=o.options;if(G("dragStart",this,{evt:e}),v.eventCanceled){this._onDrop();return}G("setupClone",this),v.eventCanceled||(P=hn(f),P.removeAttribute("id"),P.draggable=!1,P.style["will-change"]="",this._hideClone(),K(P,this.options.chosenClass,!1),v.clone=P),o.cloneId=Ke(function(){G("clone",o),!v.eventCanceled&&(o.options.removeCloneOnHide||O.insertBefore(P,f),o._hideClone(),V({sortable:o,name:"clone"}))}),!n&&K(f,i.dragClass,!0),n?(et=!0,o._loopId=setInterval(o._emulateDragOver,50)):(_(document,"mouseup",o._onDrop),_(document,"touchend",o._onDrop),_(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,f)),C(document,"drop",o),b(f,"transform","translateZ(0)")),Te=!0,o._dragStartId=Ke(o._dragStarted.bind(o,n,e)),C(document,"selectstart",o),ke=!0,window.getSelection().removeAllRanges(),Ne&&b(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,a,i,r,s=this.options,u=s.group,l=v.active,c=ze===u,d=s.sort,p=X||l,h,m=this,y=!1;if(_t)return;function A(Pe,_n){G(Pe,m,ie({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:d,fromSortable:p,target:o,completed:I,onMove:function(xt,Cn){return We(O,n,f,a,xt,B(xt),e,Cn)},changed:x},_n))}function S(){A("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function I(Pe){return A("dragOverCompleted",{insertion:Pe}),Pe&&(c?l._hideClone():l._showClone(m),m!==p&&(K(f,X?X.options.ghostClass:l.options.ghostClass,!1),K(f,s.ghostClass,!0)),X!==m&&m!==v.active?X=m:m===v.active&&X&&(X=null),p===m&&(m._ignoreWhileAnimating=o),m.animateAll(function(){A("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===f&&!f.animated||o===n&&!o.animated)&&(Se=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(f.parentNode[j]._isOutsideThisEl(e.target),!Pe&&we(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function x(){Z=J(f),he=J(f,s.draggable),V({sortable:m,name:"change",toEl:n,newIndex:Z,newDraggableIndex:he,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=te(o,s.draggable,n,!0),A("dragOver"),v.eventCanceled)return y;if(f.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return I(!1);if(et=!1,l&&!s.disabled&&(c?d||(r=k!==O):X===this||(this.lastPutMode=ze.checkPull(this,l,f,e))&&u.checkPut(this,l,f,e))){if(h=this._getDirection(e,o)==="vertical",a=B(f),A("dragOverValid"),v.eventCanceled)return y;if(r)return k=O,S(),this._hideClone(),A("revert"),v.eventCanceled||(Ee?O.insertBefore(f,Ee):O.appendChild(f)),I(!0);var M=At(n,s.draggable);if(!M||oa(e,h,this)&&!M.animated){if(M===f)return I(!1);if(M&&n===e.target&&(o=M),o&&(i=B(o)),We(O,n,f,a,o,i,e,!!o)!==!1)return S(),M&&M.nextSibling?n.insertBefore(f,M.nextSibling):n.appendChild(f),k=n,x(),I(!0)}else if(M&&na(e,h,this)){var z=Ae(n,0,s,!0);if(z===f)return I(!1);if(o=z,i=B(o),We(O,n,f,a,o,i,e,!1)!==!1)return S(),n.insertBefore(f,z),k=n,x(),I(!0)}else if(o.parentNode===n){i=B(o);var Y=0,H,q=f.parentNode!==n,F=!Zo(f.animated&&f.toRect||a,o.animated&&o.toRect||i,h),ne=h?"top":"left",E=zt(o,"top","top")||zt(f,"top","top"),fe=E?E.scrollTop:void 0;Se!==o&&(H=i[ne],Re=!1,He=!F&&s.invertSwap||q),Y=aa(e,o,i,h,F?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,He,Se===o);var Q;if(Y!==0){var le=J(f);do le-=Y,Q=k.children[le];while(Q&&(b(Q,"display")==="none"||Q===w))}if(Y===0||Q===o)return I(!1);Se=o,Be=Y;var N=o.nextElementSibling,R=!1;R=Y===1;var $e=We(O,n,f,a,o,i,e,R);if($e!==!1)return($e===1||$e===-1)&&(R=$e===1),_t=!0,setTimeout(ta,30),S(),R&&!N?n.appendChild(f):o.parentNode.insertBefore(f,R?N:o),E&&pn(E,0,fe-E.scrollTop),k=f.parentNode,H!==void 0&&!He&&(qe=Math.abs(H-B(o)[ne])),x(),I(!0)}if(n.contains(f))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",we),_(document,"mousemove",we),_(document,"touchmove",we)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"pointercancel",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(Z=J(f),he=J(f,o.draggable),G("drop",this,{evt:e}),k=f&&f.parentNode,Z=J(f),he=J(f,o.draggable),v.eventCanceled){this._nulling();return}Te=!1,He=!1,Re=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ct(this.cloneId),Ct(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ne&&b(document.body,"user-select",""),b(f,"transform",""),e&&(ke&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(O===k||X&&X.lastPutMode!=="clone")&&P&&P.parentNode&&P.parentNode.removeChild(P),f&&(this.nativeDraggable&&_(f,"dragend",this),pt(f),f.style["will-change"]="",ke&&!Te&&K(f,X?X.options.ghostClass:this.options.ghostClass,!1),K(f,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:k,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==k?(Z>=0&&(V({rootEl:k,name:"add",toEl:k,fromEl:O,originalEvent:e}),V({sortable:this,name:"remove",toEl:k,originalEvent:e}),V({rootEl:k,name:"sort",toEl:k,fromEl:O,originalEvent:e}),V({sortable:this,name:"sort",toEl:k,originalEvent:e})),X&&X.save()):Z!==Ie&&Z>=0&&(V({sortable:this,name:"update",toEl:k,originalEvent:e}),V({sortable:this,name:"sort",toEl:k,originalEvent:e})),v.active&&((Z==null||Z===-1)&&(Z=Ie,he=Le),V({sortable:this,name:"end",toEl:k,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){G("nulling",this),O=f=k=w=Ee=P=Ue=me=ye=ee=ke=Z=he=Ie=Le=Se=Be=X=ze=v.dragged=v.ghost=v.clone=v.active=null,nt.forEach(function(e){e.checked=!0}),nt.length=dt=ct=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),ea(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,a=0,i=o.length,r=this.options;a<i;a++)n=o[a],te(n,r.draggable,this.el,!1)&&e.push(n.getAttribute(r.dataIdAttr)||ra(n));return e},sort:function(e,n){var o={},a=this.el;this.toArray().forEach(function(i,r){var s=a.children[r];te(s,this.options.draggable,a,!1)&&(o[i]=s)},this),n&&this.captureAnimationState(),e.forEach(function(i){o[i]&&(a.removeChild(o[i]),a.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return te(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var a=Xe.modifyOption(this,e,n);typeof a<"u"?o[e]=a:o[e]=n,e==="group"&&bn(o)},destroy:function(){G("destroy",this);var e=this.el;e[j]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),tt.splice(tt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!me){if(G("hideClone",this),v.eventCanceled)return;b(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(me){if(G("showClone",this),v.eventCanceled)return;f.parentNode==O&&!this.options.group.revertClone?O.insertBefore(P,f):Ee?O.insertBefore(P,Ee):O.appendChild(P),this.options.group.revertClone&&this.animate(f,P),b(P,"display",""),me=!1}}};function ea(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function We(t,e,n,o,a,i,r,s){var u,l=t[j],c=l.options.onMove,d;return window.CustomEvent&&!ce&&!Ye?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=n,u.draggedRect=o,u.related=a||e,u.relatedRect=i||B(e),u.willInsertAfter=s,u.originalEvent=r,t.dispatchEvent(u),c&&(d=c.call(l,u,r)),d}function pt(t){t.draggable=!1}function ta(){_t=!1}function na(t,e,n){var o=B(Ae(n.el,0,n.options,!0)),a=mn(n.el,n.options,w),i=10;return e?t.clientX<a.left-i||t.clientY<o.top&&t.clientX<o.right:t.clientY<a.top-i||t.clientY<o.bottom&&t.clientX<o.left}function oa(t,e,n){var o=B(At(n.el,n.options.draggable)),a=mn(n.el,n.options,w),i=10;return e?t.clientX>a.right+i||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>a.bottom+i||t.clientX>o.right&&t.clientY>o.top}function aa(t,e,n,o,a,i,r,s){var u=o?t.clientY:t.clientX,l=o?n.height:n.width,c=o?n.top:n.left,d=o?n.bottom:n.right,p=!1;if(!r){if(s&&qe<l*a){if(!Re&&(Be===1?u>c+l*i/2:u<d-l*i/2)&&(Re=!0),Re)p=!0;else if(Be===1?u<c+qe:u>d-qe)return-Be}else if(u>c+l*(1-a)/2&&u<d-l*(1-a)/2)return ia(e)}return p=p||r,p&&(u<c+l*i/2||u>d-l*i/2)?u>c+l/2?1:-1:0}function ia(t){return J(f)<J(t)?1:-1}function ra(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function la(t){nt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&nt.push(o)}}function Ke(t){return setTimeout(t,0)}function Ct(t){return clearTimeout(t)}it&&C(document,"touchmove",function(t){(v.active||Te)&&t.cancelable&&t.preventDefault()});v.utils={on:C,off:_,css:b,find:cn,is:function(e,n){return!!te(e,n,e,!1)},extend:Ho,throttle:fn,closest:te,toggleClass:K,clone:hn,index:J,nextTick:Ke,cancelNextTick:Ct,detectDirection:vn,getChild:Ae,expando:j};v.get=function(t){return t[j]};v.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(v.utils=ie(ie({},v.utils),o.utils)),Xe.mount(o)})};v.create=function(t,e){return new v(t,e)};v.version=$o;var L=[],xe,Dt,St=!1,ht,mt,ot,Me;function sa(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):o.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),jt(),Ze(),Vo()},nulling:function(){ot=Dt=xe=St=Me=ht=mt=null,L.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(i,r);if(ot=n,o||this.options.forceAutoScrollFallback||Ye||ce||Ne){gt(n,this.options,s,o);var u=ge(s,!0);St&&(!Me||i!==ht||r!==mt)&&(Me&&jt(),Me=setInterval(function(){var l=ge(document.elementFromPoint(i,r),!0);l!==u&&(u=l,Ze()),gt(n,a.options,l,o)},10),ht=i,mt=r)}else{if(!this.options.bubbleScroll||ge(s,!0)===ae()){Ze();return}gt(n,this.options,ge(s,!1),!1)}}},de(t,{pluginName:"scroll",initializeByDefault:!0})}function Ze(){L.forEach(function(t){clearInterval(t.pid)}),L=[]}function jt(){clearInterval(Me)}var gt=fn(function(t,e,n,o){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,u=ae(),l=!1,c;Dt!==n&&(Dt=n,Ze(),xe=e.scroll,c=e.scrollFn,xe===!0&&(xe=ge(n,!0)));var d=0,p=xe;do{var h=p,m=B(h),y=m.top,A=m.bottom,S=m.left,I=m.right,x=m.width,M=m.height,z=void 0,Y=void 0,H=h.scrollWidth,q=h.scrollHeight,F=b(h),ne=h.scrollLeft,E=h.scrollTop;h===u?(z=x<H&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),Y=M<q&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(z=x<H&&(F.overflowX==="auto"||F.overflowX==="scroll"),Y=M<q&&(F.overflowY==="auto"||F.overflowY==="scroll"));var fe=z&&(Math.abs(I-a)<=r&&ne+x<H)-(Math.abs(S-a)<=r&&!!ne),Q=Y&&(Math.abs(A-i)<=r&&E+M<q)-(Math.abs(y-i)<=r&&!!E);if(!L[d])for(var le=0;le<=d;le++)L[le]||(L[le]={});(L[d].vx!=fe||L[d].vy!=Q||L[d].el!==h)&&(L[d].el=h,L[d].vx=fe,L[d].vy=Q,clearInterval(L[d].pid),(fe!=0||Q!=0)&&(l=!0,L[d].pid=setInterval((function(){o&&this.layer===0&&v.active._onTouchMove(ot);var N=L[this.layer].vy?L[this.layer].vy*s:0,R=L[this.layer].vx?L[this.layer].vx*s:0;typeof c=="function"&&c.call(v.dragged.parentNode[j],R,N,t,ot,L[this.layer].el)!=="continue"||pn(L[this.layer].el,R,N)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==u&&(p=ge(p,!1)));St=l}},30),En=function(e){var n=e.originalEvent,o=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(n){var l=o||i;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);u(),l&&!l.el.contains(d)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Pt(){}Pt.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ae(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:En};de(Pt,{pluginName:"revertOnSpill"});function kt(){}kt.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:En};de(kt,{pluginName:"removeOnSpill"});v.mount(new sa);v.mount(kt,Pt);function ua(){const t=U(),e=Jt(),n=U(0),o=()=>{const l=document.querySelector(".executeListTable .el-table__body-wrapper tbody"),c=document.querySelector(".taskListTable .el-table__body-wrapper tbody");!l||!c||(v.create(l,{group:{name:"shared",pull:!0,put:!0},sort:!0,async onEnd(d){const{oldIndex:p,newIndex:h}=d,[m]=e.executeList.splice(p,1);await e.addExecuteList(m,h)},async onAdd(d){d.item.remove();const{oldIndex:p,newIndex:h}=d,m=a.value[p];await e.addExecuteList(m,h)}}),v.create(c,{group:{name:"shared",pull:"clone",put:!1},sort:!1}))},a=U([{data:"课业任务",card:""},{data:"帮派任务",card:""},{data:"门客设宴",card:""},{data:"破阵设宴",card:""},{data:"单人论剑",card:"/script/sword-task-card"},{data:"侠缘喊话",card:"/script/chivalry-task-card"},{data:"每日兑换",card:"/script/daily-redemption-task-card"},{data:"江湖急送",card:""},{data:"日常副本",card:""},{data:"世界喊话",card:"/script/world-shouts-task-card"},{data:"每日一卦",card:""},{data:"茶馆说书",card:""},{data:"江湖行商",card:"/script/merchant-lake-task-card"},{data:"江湖英雄榜",card:"/script/hero-list-task-card"},{data:"采集任务",card:"/script/acquisition-task-card"},{data:"坐观万象",card:""}]),i=async l=>{l.card!==""&&await to.push(l.card)},r=async l=>{await e.addExecuteList(l,e.executeList.length)},s=async l=>{await e.removeExecuteList(l)},u=()=>{if(t.value){const l=t.value.clientHeight;n.value=l-10}};return at(()=>{u(),o(),window.addEventListener("resize",u)}),Ut(()=>{window.removeEventListener("resize",u)}),{listRef:t,tableHeight:n,tableData:a,taskConfigStore:e,add:r,remove:s,navigate:i}}const da=re({__name:"AppList",setup(t){const{listRef:e,tableData:n,tableHeight:o,taskConfigStore:a,add:i,remove:r,navigate:s}=ua();return(u,l)=>{const c=lo,d=ho,p=po,h=fo;return W(),_e("div",{class:"flex gap-4 h-100%",ref_key:"listRef",ref:e},[T(h,{class:"taskListTable","row-key":"data",onCellDblclick:g(i),"highlight-current-row":"",data:g(n),style:{width:"100px"},height:g(o)},{empty:D(()=>l[0]||(l[0]=[Ce("span",null,"无任务",-1)])),default:D(()=>[T(p,{label:"任务列表"},{header:D(()=>[T(c,null,{default:D(()=>l[1]||(l[1]=[oe("任务列表")])),_:1,__:[1]})]),default:D(m=>[T(d,{onClick:y=>g(s)(m.row)},{default:D(()=>[oe(wt(m.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"]),T(h,{class:"executeListTable","row-key":"data",onCellDblclick:g(r),"highlight-current-row":"",data:g(a).$state.executeList,style:{width:"100px"},height:g(o)},{empty:D(()=>l[2]||(l[2]=[Ce("span",null,"无任务",-1)])),default:D(()=>[T(p,{prop:"data",label:"执行列表"},{header:D(()=>[T(c,null,{default:D(()=>l[3]||(l[3]=[oe("执行列表")])),_:1,__:[3]})]),default:D(m=>[T(d,{onClick:y=>g(s)(m.row)},{default:D(()=>[oe(wt(m.row.data),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["onCellDblclick","data","height"])],512)}}}),ca={class:"flex justify-between"},Da=re({__name:"AppScript",setup(t){return(e,n)=>{const o=oo,a=ao("router-view"),i=no,r=io;return W(),be(i,{class:"h-100%"},{default:D(()=>[T(o,null,{default:D(()=>[Ce("div",ca,[T(Bo)])]),_:1}),T(r,null,{default:D(()=>[T(i,{class:"flex gap-x-10 h-100%"},{default:D(()=>[T(da,{class:"h-100%"}),T(a)]),_:1})]),_:1})]),_:1})}}});export{Da as default};
