import{aj as J,ak as te,al as $,b as we,am as j,f as ne,an as ce,V as ae,q as V,L as ke,ao as oe,u as ee,Q as Ie,ap as Ne,aq as Me,Z as fe,n as Re,d as le,ar as Be,s as G,o as I,v as W,t as F,y as e,x as k,r as Y,a0 as se,ac as Pe,ad as Le,c as O,w as o,a as ze,z as ue,as as re,at as Ue,a2 as $e,H as Ae,a4 as Fe,e as a,au as Oe,N as Ke,E as ie,A as qe,B as He,a7 as Ge,a9 as We,af as je}from"./index-Cxwme0eA.js";import{E as Qe}from"./el-card-C12cd444.js";/* empty css                          */import{t as de,E as Xe,a as Ze,b as Je}from"./el-checkbox-DALA3dcf.js";import{u as Ye,E as ea,a as aa}from"./el-col-CeeBJ_An.js";import{u as la,E as ta,a as na}from"./el-select-DjJufbnk.js";import{u as oa,a as sa,b as ua,c as ra,d as ia}from"./use-form-common-props-BhgLXy6h.js";import{I as pe,C as U,U as K}from"./event-BB_Ol6Sd.js";import{u as da,a as ca}from"./index-B2geGX71.js";import"./index-ExIv-jhH.js";import"./index-kOoGFmv6.js";const fa=we({modelValue:{type:ne(Array)},max:Number,tagType:{...de.type,default:"info"},tagEffect:de.effect,trigger:{type:ne(String),default:j.enter},draggable:{type:Boolean,default:!1},delimiter:{type:[String,RegExp],default:""},size:oa,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},saveOnBlur:{type:Boolean,default:!0},ariaLabel:String}),pa={[K]:l=>te(l)||$(l),[U]:l=>te(l)||$(l),[pe]:l=>J(l),"add-tag":l=>J(l),"remove-tag":l=>J(l),focus:l=>l instanceof FocusEvent,blur:l=>l instanceof FocusEvent,clear:()=>!0};function va({props:l,emit:s,formItem:b}){const d=sa(),i=ua(),u=ce(),t=ae(),v=V(()=>["small"].includes(i.value)?"small":"default"),x=V(()=>{var n;return(n=l.modelValue)!=null&&n.length?void 0:l.placeholder}),c=V(()=>!(l.readonly||d.value)),g=V(()=>{var n,r;return $(l.max)?!1:((r=(n=l.modelValue)==null?void 0:n.length)!=null?r:0)>=l.max}),f=n=>{var r,_;if(g.value){t.value=void 0;return}if(!B.value){if(l.delimiter){const E=(r=t.value)==null?void 0:r.replace(l.delimiter,"");E?.length!==((_=t.value)==null?void 0:_.length)&&(t.value=E,p())}s(pe,n.target.value)}},D=n=>{var r;if(!B.value)switch(n.code){case l.trigger:n.preventDefault(),n.stopPropagation(),p();break;case j.numpadEnter:l.trigger===j.enter&&(n.preventDefault(),n.stopPropagation(),p());break;case j.backspace:!t.value&&((r=l.modelValue)!=null&&r.length)&&(n.preventDefault(),n.stopPropagation(),y(l.modelValue.length-1));break}},p=()=>{var n,r;const _=(n=t.value)==null?void 0:n.trim();if(!_||g.value)return;const E=[...(r=l.modelValue)!=null?r:[],_];s(K,E),s(U,E),s("add-tag",_),t.value=void 0},y=n=>{var r;const _=((r=l.modelValue)!=null?r:[]).slice(),[E]=_.splice(n,1);s(K,_),s(U,_),s("remove-tag",E)},m=()=>{t.value=void 0,s(K,void 0),s(U,void 0),s("clear")},C=(n,r,_)=>{var E;const P=((E=l.modelValue)!=null?E:[]).slice(),[Q]=P.splice(n,1),X=r>n&&_==="before"?-1:r<n&&_==="after"?1:0;P.splice(r+X,0,Q),s(K,P),s(U,P)},w=()=>{var n;(n=u.value)==null||n.focus()},S=()=>{var n;(n=u.value)==null||n.blur()},{wrapperRef:T,isFocused:L}=da(u,{disabled:d,afterBlur(){var n;l.saveOnBlur?p():t.value=void 0,l.validateEvent&&((n=b?.validate)==null||n.call(b,"blur").catch(r=>oe()))}}),{isComposing:B,handleCompositionStart:z,handleCompositionUpdate:N,handleCompositionEnd:M}=ca({afterComposition:f});return ke(()=>l.modelValue,()=>{var n;l.validateEvent&&((n=b?.validate)==null||n.call(b,U).catch(r=>oe()))}),{inputRef:u,wrapperRef:T,isFocused:L,isComposing:B,inputValue:t,size:i,tagSize:v,placeholder:x,closable:c,disabled:d,inputLimit:g,handleDragged:C,handleInput:f,handleKeydown:D,handleAddTag:p,handleRemoveTag:y,handleClear:m,handleCompositionStart:z,handleCompositionUpdate:N,handleCompositionEnd:M,focus:w,blur:S}}function ga(){const l=ae(!1);return{hovering:l,handleMouseEnter:()=>{l.value=!0},handleMouseLeave:()=>{l.value=!1}}}function ma({wrapperRef:l,handleDragged:s,afterDragged:b}){const d=ee("input-tag"),i=ce(),u=ae(!1);let t,v,x,c;function g(y){return`.${d.e("inner")} .${d.namespace.value}-tag:nth-child(${y+1})`}function f(y,m){t=m,v=l.value.querySelector(g(m)),v&&(v.style.opacity="0.5"),y.dataTransfer.effectAllowed="move"}function D(y,m){if(x=m,y.preventDefault(),y.dataTransfer.dropEffect="move",$(t)||t===m){u.value=!1;return}const C=l.value.querySelector(g(m)).getBoundingClientRect(),w=t+1!==m,S=t-1!==m,T=y.clientX-C.left,L=w?S?.5:1:-1,B=S?w?.5:0:1;T<=C.width*L?c="before":T>C.width*B?c="after":c=void 0;const z=l.value.querySelector(`.${d.e("inner")}`),N=z.getBoundingClientRect(),M=Number.parseFloat(Ie(z,"gap"))/2,n=C.top-N.top;let r=-9999;if(c==="before")r=Math.max(C.left-N.left-M,Math.floor(-M/2));else if(c==="after"){const _=C.right-N.left;r=_+(N.width===_?Math.floor(M/2):M)}Ne(i.value,{top:`${n}px`,left:`${r}px`}),u.value=!!c}function p(y){y.preventDefault(),v&&(v.style.opacity=""),c&&!$(t)&&!$(x)&&t!==x&&s(t,x,c),u.value=!1,t=void 0,v=null,x=void 0,c=void 0,b?.()}return{dropIndicatorRef:i,showDropIndicator:u,handleDragStart:f,handleDragOver:D,handleDragEnd:p}}function _a({props:l,isFocused:s,hovering:b,disabled:d,inputValue:i,size:u,validateState:t,validateIcon:v,needStatusIcon:x}){const c=Me(),g=fe(),f=ee("input-tag"),D=ee("input"),p=V(()=>[f.b(),f.is("focused",s.value),f.is("hovering",b.value),f.is("disabled",d.value),f.m(u.value),f.e("wrapper"),c.class]),y=V(()=>[c.style]),m=V(()=>{var S,T;return[f.e("inner"),f.is("draggable",l.draggable),f.is("left-space",!((S=l.modelValue)!=null&&S.length)&&!g.prefix),f.is("right-space",!((T=l.modelValue)!=null&&T.length)&&!w.value)]}),C=V(()=>{var S;return l.clearable&&!d.value&&!l.readonly&&(((S=l.modelValue)==null?void 0:S.length)||i.value)&&(s.value||b.value)}),w=V(()=>g.suffix||C.value||t.value&&v.value&&x.value);return{ns:f,nsInput:D,containerKls:p,containerStyle:y,innerKls:m,showClear:C,showSuffix:w}}const ha=le({name:"ElInputTag",inheritAttrs:!1}),ba=le({...ha,props:fa,emits:pa,setup(l,{expose:s,emit:b}){const d=l,i=Ye(),u=fe(),{form:t,formItem:v}=ra(),{inputId:x}=ia(d,{formItemContext:v}),c=V(()=>{var h;return(h=t?.statusIcon)!=null?h:!1}),g=V(()=>v?.validateState||""),f=V(()=>g.value&&Be[g.value]),{inputRef:D,wrapperRef:p,isFocused:y,inputValue:m,size:C,tagSize:w,placeholder:S,closable:T,disabled:L,handleDragged:B,handleInput:z,handleKeydown:N,handleRemoveTag:M,handleClear:n,handleCompositionStart:r,handleCompositionUpdate:_,handleCompositionEnd:E,focus:P,blur:Q}=va({props:d,emit:b,formItem:v}),{hovering:X,handleMouseEnter:ve,handleMouseLeave:ge}=ga(),{calculatorRef:me,inputStyle:_e}=la(),{dropIndicatorRef:he,showDropIndicator:be,handleDragStart:ye,handleDragOver:xe,handleDragEnd:Ce}=ma({wrapperRef:p,handleDragged:B,afterDragged:P}),{ns:R,nsInput:Z,containerKls:Ee,containerStyle:Se,innerKls:Ve,showClear:Te,showSuffix:De}=_a({props:d,hovering:X,isFocused:y,inputValue:m,disabled:L,size:C,validateState:g,validateIcon:f,needStatusIcon:c});return s({focus:P,blur:Q}),(h,Ea)=>(I(),G("div",{ref_key:"wrapperRef",ref:p,class:k(e(Ee)),style:He(e(Se)),onMouseenter:e(ve),onMouseleave:e(ge)},[e(u).prefix?(I(),G("div",{key:0,class:k(e(R).e("prefix"))},[Y(h.$slots,"prefix")],2)):W("v-if",!0),F("div",{class:k(e(Ve))},[(I(!0),G(Pe,null,Le(h.modelValue,(q,A)=>(I(),O(e(Xe),{key:A,size:e(w),closable:e(T),type:h.tagType,effect:h.tagEffect,draggable:e(T)&&h.draggable,"disable-transitions":"",onClose:H=>e(M)(A),onDragstart:H=>e(ye)(H,A),onDragover:H=>e(xe)(H,A),onDragend:e(Ce),onDrop:re(()=>{},["stop"])},{default:o(()=>[Y(h.$slots,"tag",{value:q,index:A},()=>[ze(ue(q),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),F("div",{class:k(e(R).e("input-wrapper"))},[se(F("input",$e({id:e(x),ref_key:"inputRef",ref:D,"onUpdate:modelValue":q=>Ae(m)?m.value=q:null},e(i),{type:"text",minlength:h.minlength,maxlength:h.maxlength,disabled:e(L),readonly:h.readonly,autocomplete:h.autocomplete,tabindex:h.tabindex,placeholder:e(S),autofocus:h.autofocus,ariaLabel:h.ariaLabel,class:e(R).e("input"),style:e(_e),onCompositionstart:e(r),onCompositionupdate:e(_),onCompositionend:e(E),onInput:e(z),onKeydown:e(N)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[Ue,e(m)]]),F("span",{ref_key:"calculatorRef",ref:me,"aria-hidden":"true",class:k(e(R).e("input-calculator")),textContent:ue(e(m))},null,10,["textContent"])],2),se(F("div",{ref_key:"dropIndicatorRef",ref:he,class:k(e(R).e("drop-indicator"))},null,2),[[Fe,e(be)]])],2),e(De)?(I(),G("div",{key:1,class:k(e(R).e("suffix"))},[Y(h.$slots,"suffix"),e(Te)?(I(),O(e(ie),{key:0,class:k([e(R).e("icon"),e(R).e("clear")]),onMousedown:re(e(Ke),["prevent"]),onClick:e(n)},{default:o(()=>[a(e(Oe))]),_:1},8,["class","onMousedown","onClick"])):W("v-if",!0),e(g)&&e(f)&&e(c)?(I(),O(e(ie),{key:1,class:k([e(Z).e("icon"),e(Z).e("validateIcon"),e(Z).is("loading",e(g)==="validating")])},{default:o(()=>[(I(),O(qe(e(f))))]),_:1},8,["class"])):W("v-if",!0)],2)):W("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var ya=Re(ba,[["__file","input-tag.vue"]]);const xa=Ge(ya);function Ca(){return{taskConfigStore:We()}}const Pa=le({__name:"DailyRedemptionTaskCard",setup(l){const{taskConfigStore:s}=Ca();return(b,d)=>{const i=Ze,u=je,t=aa,v=na,x=ta,c=ea,g=xa,f=Je,D=Qe;return I(),O(D,{class:"w-100%",shadow:"hover"},{default:o(()=>[a(f,{modelValue:e(s).dailyExchangeList,"onUpdate:modelValue":d[3]||(d[3]=p=>e(s).dailyExchangeList=p)},{default:o(()=>[a(c,{class:"m-b",gutter:5},{default:o(()=>[a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"银票礼盒",value:"银票礼盒"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"吴越剑坯",value:"吴越剑坯"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"白公鼎坯",value:"白公鼎坯"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"摇钱树",value:"摇钱树"}),a(x,{modelValue:e(s).moneyTreeSelect,"onUpdate:modelValue":d[0]||(d[0]=p=>e(s).moneyTreeSelect=p)},{default:o(()=>[a(v,{label:"轻轻摇",value:"轻轻摇"}),a(v,{label:"用力摇",value:"用力摇"}),a(v,{label:"全力摇",value:"全力摇"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(c,{class:"m-b",gutter:5},{default:o(()=>[a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"商会鸡蛋",value:"商会鸡蛋"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"榫头卯眼",value:"榫头卯眼"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"锦芳绣残片",value:"锦芳绣残片"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"商票上缴",value:"商票上缴"})]),_:1})]),_:1})]),_:1}),a(c,{class:"m-b",gutter:5},{default:o(()=>[a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"艾草购买",value:"艾草购买"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"莲子购买",value:"莲子购买"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"帮派铜钱捐献",value:"帮派铜钱捐献"})]),_:1})]),_:1}),a(t,{span:6},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"帮派银两捐献",value:"帮派银两捐献"})]),_:1})]),_:1})]),_:1}),a(c,{class:"m-b",gutter:5},{default:o(()=>[a(t,{span:24},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"神厨食材购买",value:"神厨食材购买"}),a(g,{modelValue:e(s).chefIngredientsTags,"onUpdate:modelValue":d[1]||(d[1]=p=>e(s).chefIngredientsTags=p),placeholder:"输入神厨食材名称","aria-label":"回车确认",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(c,{class:"m-b",gutter:5},{default:o(()=>[a(t,{span:24},{default:o(()=>[a(u,{class:"flex gap-x-xs"},{default:o(()=>[a(i,{label:"神厨调料购买",value:"神厨调料购买"}),a(g,{modelValue:e(s).chefSeasoningTags,"onUpdate:modelValue":d[2]||(d[2]=p=>e(s).chefSeasoningTags=p),placeholder:"输入神厨调料名称","aria-label":"回车确认",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Pa as default};
